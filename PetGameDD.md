# Freedom Squad — Пакет проектной документации (GDD/TDD/Art/Audio/Level/Production)

## Оглавление

* [Часть I — Ключевые выводы (Executive Summary)](#bookmark=id.jtfnbbofu04i)

* [Часть II — GDD (Game Design Document)](#bookmark=id.2cwquvv5f0g9)

* [Видение и референсы](#bookmark=id.wpk9o5khc7bt)

* [Игровые петли и прогресс](#bookmark=id.wlunctpw23o1)

* [Управление и камера](#bookmark=id.l5qrjzx3xulp)

* [Физика и разрушение](#bookmark=id.in6fyima84tp)

* [Бой, оружие, взрывы](#bookmark=id.enmikf6vjfuh)

* [Персонажи](#bookmark=id.f31fhl5nolfa)

* [Враги и боссы](#bookmark=id.pzuqnr1wz3hl)

* [Уровни и цели](#bookmark=id.qanwwio0yyoo)

* [Метрики сложности и баланс](#bookmark=id.y8rzd3yf91eg)

* [Прогрессия и мета-игра](#bookmark=id.3hdekpo6rewd)

* [UX/UI](#bookmark=id.8je7k0pos71a)

* [Контент-план](#bookmark=id.za24tpbzhcrn)

* [Мультиплеер](#bookmark=id.1ujmrnibehsj)

* [Доступность](#bookmark=id.d6qeg254v4q)

* [Часть III — TDD (Technical Design Document)](#bookmark=id.7fqq29rfi5s2)

* [Часть IV — Art Bible](#bookmark=id.6wys1ftyauq9)

* [Часть V — Audio Brief](#bookmark=id.i1xh0iul05tc)

* [Часть VI — Level Design Bible](#bookmark=id.b7v7q0wqs6o8)

* [Часть VII — Production и риски](#bookmark=id.k2glyxt5ja98)

* [Часть VIII — Legal/IP и дифференциация](#bookmark=id.pa707za8htl1)

* [Приложение A: Источники и методология](#bookmark=id.dl9ijt8h2kel)

* [Приложение B: Шаблоны CSV для баланса](#bookmark=id.w7txgx187nou)

* [Приложение C: Roadmap на 12 недель](#bookmark=id.c9zflywfdu74)

* [Приложение D: Идеи для дифференциации](#bookmark=id.7mi5q44r616c)

* [Приложение E: Чек-лист плейтестов](#bookmark=id.hxh3ltjpotlx)

## Часть I — Ключевые выводы (Executive Summary)

**Позиционирование игры:** *Broforce* – культовый инди-платформер 2015 года в жанре *run-and-gun*, известный своим ретро-стилем и пародийным переосмыслением боевиков 80-90х[\[1\]](https://en.wikipedia.org/wiki/Broforce#:~:text=Broforce%20is%20a%202015%20side,through%20highly%20destructible%20environments). Игрок управляет командой «бро»-героев, вдохновлённых культовыми экшн-иконами, и освобождает мир от терроризма чрезмерной силой. **Freedom Squad** нацелена стать духовным наследником *Broforce*: аркадный 2D экшен для поклонников классических *Contra* и *Metal Slug*, ценящих динамичный ко-оп геймплей и юмор. Игра привлечёт аудиторию ретро-геймеров 30-40 лет (ностальгирующих по 8/16-битным боевикам), а также молодую аудиторию 20+, ищущую весёлый кооперативный экшен на вечеринках. Платформы: ПК (Windows) с возможными портами на консоли (при успехе).

**Ключевая фантазия игрока:** стать неостановимым героем боевика и *буквально уничтожать все на экране*. Freedom Squad дарит ощущение всесилия: один (или с друзьями) игрок разносят армии врагов и целые базы, не оглядываясь на разрушения во имя абсурдной «справедливости». **Тон** игры – гипертрофированный комедийный боевик: пародия на милитаризм и патриотизм, с нарочито «мужским» стилем и гротескной брутальностью. **Темп** геймплея высокий: миссии короткие (2–5 минут), но насыщенные пиками хаоса – взрывы, орды врагов, рушащийся ландшафт. Короткие передышки между перестрелками дают перевести дух, после чего экшен сразу нарастает до следующего пика. Игра удерживает адреналин, но избегает усталости за счёт чередования напряжённых схваток и коротких моментов относительного спокойствия.

**Отличительные механики оригинала:** *Broforce* выделилась полностью разрушаемым окружением и уникальным составом персонажей-“бро”. Все уровни могут быть уничтожены — пули и взрывы превращают джунгли и здания в решето. Это открывает творческую свободу: подорвать мост под врагами, прорыть альтернативный путь или устроить цепную реакцию бочек. Второй столп – **«бро»-персонажи**: десятки пародийных героев с уникальным оружием и навыками (от огнемётов до замедления времени). Игрок не выбирает персонажа вручную – каждый спасённый на уровне «пленный» брат даёт новую жизнь и *случайного* героя, что сохраняет разнообразие и элемент сюрприза каждую игру. Третья отличительная черта – хаотичный **кооператив** до 4 игроков: совместно проходя уровень, игроки могут как помогать, так и невольно вредить друг другу. Friendly fire включён (по умолчанию) – неосторожный выстрел из базуки способен уничтожить товарища, вызывая комичные ситуации и требуя слаженности (или смирения с хаосом). Совокупность этих механик даёт **ко-оп хаос** – взрывы, от которых всё разлетается, и крики друзей, попавших под собственный грузовик со взрывчаткой.

**Критические риски при создании клона:** Основной риск – скатиться в простое копирование без свежих идей. *Broforce* обладает ярко выраженной IP (образами «бро» и сатирой), и прямое заимствование может нарушить авторские права или вызвать негативные сравнения. Технические риски включают **производительность**: разрушение ландшафта и физика обрушений нагружают систему; важно избежать просадок FPS при множественных взрывах. **Сетевая синхронизация** – серьёзный вызов: рассинхрон разрушений между игроками способен испортить ко-оп опыт (это отмечали и игроки *Broforce*, сталкиваясь с десинхронизацией онлайн). Наконец, **баланс хаоса**: есть опасность, что 4 игрока превращают уровень в неконтролируемый взрывной хаос, где сложно понять, что происходит (может фрустрировать часть аудитории).

**План снижения рисков:** Для правовых аспектов внедрён чёткий план дифференциации (см. Часть VIII): ни имён, ни точных образов оригинальных «бро»; вместо этого – оригинальные персонажи с новыми именами и способностями, сохраняющие дух пародии, но без прямого использования чужих IP. Технические риски снижаются ранними прототипами: движок разрушения будет реализован и протестирован в первые же месяцы разработки ✅, что позволит оптимизировать алгоритмы удаления тайлов и расчёта физики обвалов. Использование игрового движка Unity и профилирование на целевых платформах поможет достичь стабильных 60 FPS даже в пиковых сценах (целевые платформы PC/консоли). Для сетевого режима планируется детально проработанная репликация событий и периодическая проверка синхронизации состояния мира (см. раздел “Мультиплеер”) – это должно устранить накопление расхождений. Если же online-кооп окажется слишком сложным к релизу, предусмотрен запасной вариант: запустить проект с упором на локальный ко-оп и добавить онлайн в первом крупном патче ❓. Что касается баланса и читабельности хаоса – в UX предусмотрены визуальные маркеры (цветовые индикаторы игроков, предупреждения о взрывах), возможность отключить friendly fire (для казуальных игроков) и продуманное шкалирование сложности под число участников (см. “Метрики сложности”). Кроме того, будет проведена серия плейтестов с разным количеством игроков и сбор телеметрии (смерти, продолжительность сессий, бросают ли игроки уровень на середине) – по этим данным команда откорректирует баланс до релиза.

\<span id="часть-ii--gdd-game-design-document"\>\</span\>

## Часть II — GDD (Game Design Document)

### 1\. Видение и референсы

**Краткая история оригинала:** *Broforce* прошла длинный путь: от прототипа *Rambros*, сделанного за выходные на Ludum Dare в апреле 2012, до полноценного коммерческого релиза. Игра была отобрана в Steam Greenlight 24 июля 2013 благодаря поддержке сообщества. Ранняя версия появилась в Steam Early Access 7 апреля 2014 года, позволив собрать обратную связь и постепенно расширять контент. Полный релиз состоялся 15 октября 2015 (Windows, Mac). После успеха на PC игра вышла на PS4 (1 марта 2016\) и Nintendo Switch (6 сентября 2018). Финальное бесплатное обновление *“Broforce Forever”* выпущено 8 августа 2023, добавив новых персонажей и миссии. *Broforce* получила высокие оценки (83/100 PC на Metacritic) и любовь игроков (Overwhelmingly Positive в Steam) за весёлый геймплей. Со временем игра стала эталоном нишевого жанра «кооперативный платформер про всех экшн-героев сразу».

**Референсы и аналоги:** Помимо *Broforce*, при разработке учитываются другие игры: \- **Contra (1987)** – классический side-scrolling шутер. От Contra наш проект перенимает дух безостановочного экшна и управление персонажем, стреляющим во все стороны. В отличие от Contra, наш упор на разрушаемость окружения и кооперативную игру (в оригинальной Contra ко-оп на 2 игрока без разрушений) – это станет ключевым отличием. \- **Metal Slug (1996)** – аркадный платформер с юмором и эффектными взрывами. Как и Metal Slug, мы используем пиксель-арт стиль и разнообразное оружие. Отличие в том, что у нас **физически разрушаемые уровни**, тогда как Metal Slug имел фиксированные декорации. Кроме того, Metal Slug – линейный run-and-gun, а у нас добавлена нелинейность за счёт возможности «прокапывать» свой путь через уровень. \- **Mercenary Kings (2014)** – современный инди-платформер с ко-опом на 4 игроков и крафтом оружия. Он тоже черпал вдохновение из ретро-экшнов. Мы учитываем его опыт сетевой игры и кастомизации. Однако *Mercenary Kings* был более *Metroidvania*\-ориентирован с backtracking и сбором ресурсов, что отличает его от более динамичного, линейного подхода *Broforce*. Наш проект **останется ближе к аркадной простоте**: никакого сбора ресурсов или сложного крафта – только экшен. Это наше осознанное отличие (✅ упор на чистый экшен вместо RPG-элементов).

**Отстройка и уникальность Freedom Squad:** Наша игра сохранит ключевые фишки *Broforce* – бешеный темп, разрушения, юмор – но внесёт и новые идеи: \- **Новые персонажи и сеттинг:** вместо чисто американского антуража 80-х мы расширим горизонты. Команда Freedom Squad – интернациональный отряд пародийных героев: у нас появятся аллюзии не только на Голливуд, но и на азиатские боевики, европейские экшны и даже видеоигровых персонажей (осторожно, без прямого копирования IP). Например, помимо коммандос в стиле Рэмбо, будет ниндзя-самурай из гонконгских фильмов, гротескный киборг из аниме, и т.д. Такой микс сделает игру отличной по духу – это пародия не только на «американских героев», но на глобальную культуру экшна. \- **Улучшенный онлайн-кооператив:** *Broforce* страдала от сетевых проблем и лагов. В нашем проекте онлайн будет реализован с учётом этих уроков – более стабильный неткод (см. раздел 13\) и удобный матчмейкинг. Мы хотим, чтобы 4 игрока по сети могли легко соединиться и пройти кампанию без ощутимых лагов – это станет нашим конкурентным преимуществом. \- **Новые режимы и мета-игра:** помимо основной кампании, планируем режим *«Survival»* (волни врагов на разрушаемой арене) и встроенный **редактор уровней** (в духе Super Mario Maker) для пользовательского контента ✅. Официальный редактор Broforce был доступен на ПК, но не получил широкого развития; мы же сделаем на нём акцент пост-ланч, чтобы сообщество генерировало контент и продляло жизнь игре. \- **Тональные отличия:** юмор Freedom Squad будет менее «патриотично-американским» и более многогранным. Мы по-прежнему будем утрировать милитаризм, но избегая прямых американских флагов на каждом шагу. Вместо этого – сатирические отсылки к разным странам и поп-культуре. Это поможет избежать чувства, что игра – клон *Broforce*; у неё будет своё «лицо».

Таким образом, опираясь на удачные решения предшественников и вводя новые идеи, **Freedom Squad** займет свою нишу: знакомый по духу, но свежий взгляд на ко-оп платформер про всемогущих героев и тотальное разрушение.

### 2\. Игровые петли и прогресс

**Core loop (базовая игровая петля):** Игра строится на коротких уровнях-миссиях, каждая из которых следует формуле *«беги и стреляй»*. Ниже приведён псевдокод основной петли миссии (core loop):

flowchart TD  
    Start(Level) \--\> "Высадка на уровень"  
    "Высадка на уровень" \--\> Combat{"Бой с врагами \\n и разрушения"}  
    Combat \--\> |Спасён заложник|Rescue\[+"Новый бро"\]  
    Combat \--\> |Враг нейтрализован|Advance\["Продвижение вперёд"\]  
    Rescue \--\> Advance  
    Advance \--\> Combat  
    Combat \--\> |Босс повержен|BossFight\["Финальная схватка \\n (босс/дьявол)"\]  
    BossFight \--\> Escape\["К вертолёту\!"\]  
    Escape \--\> EndLevel\["Уровень пройден"\]  
    EndLevel \--\> Reward\["Награды: \\n разблокировка контента"\]  
    Reward \--\> NextLevel\["Следующая миссия"\]

На практике эта петля выглядит так: **игрок начинает уровень** в точке входа (в оригинале – спускается на тросе с вертолёта). Двигаясь вперёд, он сталкивается с группами врагов и преодолевает препятствия. В процессе можно **спасать пленников** (POW) – это даёт дополнительную жизнь и тут же переключает управление на нового разблокированного героя. Игровая механика поощряет спасение (каждый POW \= \+1 жизнь и шаг к открытию нового персонажа). Цикл «бой → продвижение → бой» повторяется, пока игрок не доберётся до конца уровня. Финал уровня обычно отмечен **мини-боссом** (например, дьявол-генерал с флагом врага или техника типа вертолёта). Победив босса, игрок должен **добраться до эвакуации** – запрыгнуть на спущенную верёвку вертолёта. В этот момент срабатывает фирменная сцена: фон взрывается, поверженный враг улетает на воздух, а на экране появляется крупный *«AREA LIBERATED\!»*. После уровня игрок получает **прогресс**: очки, статистику, а главное – счётчик спасённых увеличивается, приближая открытие нового «бро». Затем петля повторяется на следующем уровне.

**Mid-loop (среднесрочная петля):** серия уровней составляет главу (регион) кампании. В оригинале кампании *Broforce* представляли набор миссий на мировой карте (условно страны, захваченные террористами, например Камбоджа, Вьетнам и т.п.). Mid-loop в нашем проекте – это прохождение главы целиком: 3–5 связанных уровней, завершающихся главным боссом главы. Пример: *Глава 1: Джунгли* – 4 уровня в джунглях, в конце босс *«Terror-kopter»* (боевой вертолёт). Игроки проходят уровни подряд; прогресс сохраняется по главам. Между главами – изменение биома и повышение сложности. Среднесрочная цель игрока – пройти всю кампанию из \~20 уровней и «освободить мир». Также mid-loop включает **накопление разблокировок**: по ходу кампании открываются новые бойцы и, возможно, новые способности. Это поддерживает интерес: к середине игры арсенал героя значительно расширяется (к этому времени игрок осваивает \~10 разных персонажей со своими стилями боя).

**Meta-loop (мета-игра):** над кампанией выстроена мета-прогрессия для поддержки реиграбельности. В *Broforce* мета-игра была минимальна (по сути, цель – собрать всех «бро» и, возможно, перепройти уровни в режиме IronBro). В *Freedom Squad* мета-элементы будут следующими: \- **Разблокирование контента:** помимо новых персонажей, за прохождение глав игрок может получать косметические улучшения (скины, забавные шляпы для героев – не влияющие на геймплей, ✅ безопасно для баланса). Также можем ввести систему достижений/значков за различные подвиги (например, пройти уровень без погибшей жизни, убить 100 врагов одной взрывной волной и т.д.). \- **Режимы повторного прохождения:** после завершения кампании открывается *«Iron Man»*\-режим (условно **IronBro**, где каждый герой доступен лишь одна жизнь: если погиб, то уже не появится) – это испытание для хардкорных игроков, повышающее мета-реиграбельность. Также откроется режим *Speedrun* с таймерами на уровнях и таблицей рекордов, побуждая соревноваться в быстром прохождении. \- **Онлайн-ранги и кооперативная активность:** можно внедрить *leaderboards* для ко-оп команд (например, на быстрейшее прохождение кампании вчетвером) и отображать статистику в меню. Мета-цель – мотивировать игроков возвращаться, пробовать улучшить результат или открыть все возможные награды.

**Темп игрового процесса:** В рамках одной миссии темп регулируется дизайном уровней: \- **Длительность уровня:** \~3 минуты на уровне сложности Normal при соло-игре (опытный игрок). В ко-оп может быть быстрее (больше огневой мощи) – \~2 минуты. Всего кампания (\~20 уровней) рассчитана на \~1–2 часа геймплея, что подходит для вечернего ко-оп прохождения. Отдельные режимы (Survival) позволят играть дольше бесконечно. \- **Пики хаоса:** мы закладываем 2–3 ярких кульминационных момента на уровень. Например, в середине уровня – сцена с большим взрывом (подрыв вражеского склада, обрушение моста с толпой врагов), под конец – бой с мини-боссом или массированный спавн врагов. Пики чередуются с короткими **передышками**: сразу после зачистки волны игроки могут пару секунд собрать себя, осмотреть разрушенный ландшафт, сменить оружие (если доступны подбираемые). Такие окна “ресурса” включены намеренно: например, после взрыва базуки остается краткая пауза, пока рассеивается дым, перед новой группой врагов. В эти моменты игроки могут перевести дух, поменять тактику или обсудить следующий шаг (особенно важно в ко-опе). \- **Распределение темпа:** в начале уровня – быстрое вхождение в бой (буквально через 2-3 экрана от старта уже противники, чтобы сразу захватить внимание). Ближе к середине – небольшое увеличение сложности (второй тип врагов, больше одновременных противников). Концовка уровня – максимальный накал (босс или взрывная финальная сцена). После эвакуации – релаксация (статистика, фанфарная музыка) и переход к следующему уровню, где цикл начнётся заново.

**Пример цикла прогрессии:** На первых уровнях игроки быстро открывают нескольких новых «бро», знакомясь с разными стилями (это удерживает интерес). К середине игры темп открытий замедляется – нужно спасти больше пленников для следующего героя – но к этому моменту геймплей разнообразится появлением новых врагов и ситуаций (например, в середине кампании появляются инопланетяне, резко меняя геймплей – как было в оригинале с *Alien Infestation* обновлением). После финала, как упомянуто, мета-игра подхватывает: новые режимы, челленджи, поиск секретов на уровнях (на уровне могут быть скрытые области – игроку интереснее перепройти, чтобы их найти). Таким образом, **core-loop** обеспечивает сиюминутное веселье, **mid-loop** – ощущение продвижения по кампании, а **meta-loop** – долгосрочную мотивацию играть после финальных титров.

### 3\. Управление и камера

**Схема управления:** Игра поддерживает клавиатуру \+ мышь (для одиночной игры или при игре вдвоём на одной клавиатуре) и геймпады (XInput и др.) для локального ко-опа. Управление будет *плотно откалибровано*, чтобы оставаться откликим и удобным даже в хаосе. Ниже таблица раскладок (по умолчанию), все клавиши можно переназначить в опциях (✅ ремаппинг):

| Действие | Клавиатура (по умолчанию) | Геймпад (Xbox Layout) |
| :---- | :---- | :---- |
| **Движение влево/вправо** | A / D или ← / → | Left Stick влево/вправо |
| **Прыжок** | W или ↑ (или Space) | A (Bottom face button) |
| **Стрельба (основное)** | J или LMB (левая кнопка мыши) | X (Right face button) |
| **Специальная атака** | K или RMB (правая кнопка) | B (Top face button) |
| **Ближняя атака** | H или LCtrl | Y (Left face button) |
| **Сменить бро (чит-код)** | (не назначено, случайно) | (не используется) |
| **Таунт (показуха)** | T | RB (Right bumper) |
| **Кувырок/присесть** | S или ↓ | Left Stick вниз (или X+A вместе) |

*(Примечание: для упрощения на ПК можно использовать двухкнопочную схему без мыши – только клавиши, как в оригинале. Однако мы также рассмотрим вариант гибридного управления, где мышь отвечает за прицеливание стрельбы для одиночной игры – ❓ требует прототипирования, решим на этапе альфы.)*

Основные действия: **стрельба** – у большинства персонажей это основная атака (автоматическая винтовка, дробовик и т.д.) с бесконечными патронами. **Спецатака** – ограниченный ресурс (например, гранаты x3, либо способность с кулдауном). **Прыжок** – единственная кнопка, двойной прыжок по умолчанию отсутствует (но некоторые герои могут иметь особый манёвр в воздухе, напр. реактивный ранец). **Ближняя атака** полезна для мгновенного убийства вплотную (и, в случае некоторых врагов, для отбивания гранат или обезоруживания). **Присесть/кувырок:** присев, герой уклоняется от пуль (в оригинале можно было стоять за укрытиями). У нас добавлен кувырок вперёд (нажав присесть \+ прыжок одновременно) – быстрый перекат, позволяющий пройти под низкими препятствиями и избежать огня (анимация \~0.5с, во время которой краткая неуязвимость). Действие *Таунт* (покрасоваться) – пасхалка: при нажатии герой делает фирменную позу (flex мышц), практически не влияя на игру (кроме как отвлекая врагов на секунду, возможно, *feature creep*, добавим если успеем ❓).

**Камера в одиночной игре:** камера 2D-следящая, с небольшим упреждением в направлении движения героя (чтобы было видно впереди на \~5–6 тайлов). Разрешение камеры – гибкое, поддержка разных соотношений (16:9, 16:10) с дополнительными областями. Вертикическая синхронизация камеры: при прыжках камера слегка сдвигается вверх, но не выходит за границу уровня (не показывает за пределы карты). Экран слегка дрожит при крупных взрывах (настройка *Screen Shake Intensity*, по умолч. 70% от максимума, регулируется в меню).

**Камера в ко-опе:** самый сложный аспект – удержать в кадре до 4 игроков. Правила фокусировки: \- Камера пытается включить *всех активных игроков* в пределы экрана. Для этого она автоматически отдаляется (zoom out) при большом разбросе игроков. Например, на стандартном широком экране 1080p поле зрения \~30 тайлов по ширине на обычном зуме; может отъехать до 2х масштабирования (охват \~60 тайлов) если игроки разошлись далеко. **Мин и макс-зум**: не ближе 1x (чтобы не рябило пикселями) и не дальше 0.5x (иначе персонажи будут слишком мелкие). \- Если игроки разошлись экстремально (на максимальном зуме всё равно не помещаются), применяется правило *«смерть экрана»*: отстающий игрок получает предупреждение (стрелка на краю экрана указывает направление на него). Если он не вернётся в видимую область за \~3 секунды, персонаж считается потерянным (падает с экрана или его захватывают враги) – т.е. игрок теряет жизнь, и возрождается у других. Это стимулирует держаться вместе. В локальном ко-опе с друзьями это понятно; для онлайна сделаем подсказку перед началом уровня о необходимости координации. *(Опционально, в настройках можно отключить смерть от экрана и включить автоматическое телепортирование отстающего к лидеру – для более казуальной игры ❓).* \- Камера плавно центрируется между живыми игроками, отдавая приоритет тому, кто ближе к экрану края. Практически: вычисляем минимальный bounding box, включающий всех героев, и добавляем небольшое пространство по краям – это и будет видимая область. Сглаживаем перемещения камеры интерполяцией, чтобы не дёргалась резко при рывках игроков. \- Важный нюанс – **вертикальная камера**: при ко-опе, если один игрок забрался высоко, а другой внизу, вертикальный разлёт может быть большим. В таких случаях камера отъезжает по максимуму. Если этого мало – нижний игрок, скорее всего, упадёт в пропасть или телепортируется к верхнему (как описано выше). В уровнях с сильной вертикалью мы будем ставить респауны (лестницы, лифты), чтобы отстающий мог догнать.

**Респавн игроков:** Кооперативная игра подразумевает несколько респавнов: \- **При наличии свободных жизней**: когда игрок теряет персонажа (погибает), тут же (через \~1 секунду) камера фокусируется на союзниках, а погибший возвращается: либо **в точке смерти** (спускается на тросе с вертолёта поблизости, если место безопасно), либо **у ближайшего сохранённого чекпоинта** (см. раздел 8 про чекпоинты). При респавне игрок получает нового случайного героя из доступных. Эта система аналогична Broforce, поддерживает динамику – с потерей жизни ты сразу бросаешься обратно в бой, но уже в другом образе. \- **Если жизней нет**: игрок ждёт, пока товарищи либо не завершат уровень, либо не освободят пленника. Спасение любого POW моментально **возрождает одного погибшего** (по принципу “отдал жизнь другу”). Это стимулирует выживших рисковать, чтобы спасти тиммейтов: «остался один – доберись до пленника, и вся команда вернётся в строй». При спасении выбирается первый ожидающий игрок (в порядке смерти). В интерфейсе при ко-опе будут значки и таймеры до возможного респавна. \- **Drop-in (подключение по ходу):** если игрок присоединяется к уже идущему уровню онлайн, мы появляем его в стартовой точке или ближайшем вперёд пройденном чекпоинте (см. «Мультиплеер»). Если стартовая зона уже разрушена или занята врагами, новый игрок появляется на вертолёте, который пролетает над игроками и сбрасывает его на тросе.

**Особые случаи камеры и управления:** \- **“Pan” обзор:** в одиночку игрок может зажать клавишу (например, Левый Alt) и использовать стрелки или правый стик, чтобы немного отодвинуть камеру и заглянуть вперёд/вниз. Полезно для осмотра уровня (но рисковано, т.к. герой в это время стоит без движения). В ко-опе эта функция отключена (мешает общей камере). \- **Авто-фиксация камеры при важных событиях:** когда появляется босс или большой взрыв, камера может кратко затриммировать масштаб, чтобы вместить событие (например, отъехать, показав гигантского червя, выползающего сбоку). Или слегка сместиться, показывая, откуда прыгнул новый враг. Это делается скриптом уровня и длится доли секунды, затем камера возвращается к игрокам. Такие приёмы используются умеренно, чтобы не дезориентировать игроков. \- **Разделение экрана (split-screen)**: не планируется (❌). Разделение экрана для 4 игроков усложнит восприятие и технически тяжело с разрушаемым миром. Мы избежим дизайна уровней, где игрокам *надо* расходиться слишком далеко. Вместо этого дизайн поощряет держаться в одном боевом пространстве.

В итоге система камеры и респавнов настроена так, чтобы ко-оп был динамичным, но не приводил к мягкому локу (когда один утащил камеру и убил остальных). Мы предоставляем игрокам понятные правила: держитесь в кадре, и команда будет в безопасности; отстали – ждите респавна при спасении или следующей возможности. Практика тестирования позволит отбалансировать длительность таймеров и зум так, чтобы **ко-оп был весёлым беспорядком, но без лишней фрустрации**.

### 4\. Физика и разрушение

Разрушаемое окружение – центральная особенность нашего проекта. Уровни состоят из **блоков-тайлов**, каждый из которых может быть уничтожен при определённых условиях. Мы ввели несколько типов материалов с разными свойствами прочности, чтобы разнообразить тактику разрушения. Ниже приведена таблица материалов тайлов:

| Материал | Прочность (HP) | Устойчивость к урону | Поведение при разрушении |
| :---- | :---- | :---- | :---- |
| **Земля (грунт)** | 3 HP[\[2\]](https://broforce.fandom.com/wiki/Basic_Mook#:~:text=Health%203%20HP%20Blood%20Red,The%20Expendabros%20SpawnResource%20Trigger%20mooks%2Fzmook) | Пуля: 1 ед. урона. Взрыв: полный урон. | Стандартный грунт, не рушится под весом. При удалении образует яму. Обломки (пыль) разлетаются. |
| **Камень** | 5 HP (оценка) | Пуля: 0.5 урона (нужно \~10 попаданий). Взрыв: полный. | Прочный блок. Используется в пещерах и храмах. Не разрушается от одиночных пуль, но упорный огонь или граната ломают. Может выступать как падающий валун (см. ниже). |
| **Сталь** | ∞ (неразруш.) | Пуля: 0\. Взрыв: 0\. | Структурный элемент (балки, несущие конструкции). Не разрушается игроком, чтобы уровень не стал непроходимым. Только скриптово (например, падение башни). |
| **Дерево** | 2 HP | Пуля: 1\. Взрыв: полный. | Встречается в виде ящиков, дверей. Ломается легко выстрелами. Может загораться (если введём огонь). Обломки не опасны. |
| **Песок/снег** | 1 HP | Пуля: полный урон (сыплется). Взрыв: полный. | Хрупкий грунт, мгновенно крошится. Может осыпаться гравитационно, если убрать удерживающие блоки (эмуляция песка). |
| **Взрывчатка** | 1 HP | Любой урон \= взрыв | Бочки, пропановые баллоны. При попадании мгновенно детонируют, нанося \~50 урона по области (\~3 блока радиус) и разрушая соседние тайлы. |
| **Декор** | n/a | n/a | Декоративные объекты (кусты, флаги). Не влияют на геймплей, могут уничтожаться без сопротивления, или просто фон. |

*(Параметры HP основаны на обратном дизайне: напр. Regular Mook имеет 3 HP, и он гибнет от \~3 попаданий, в то время как один выстрел оставляет \~1 блоковый след в грунте – поэтому грунт \~3 HP как у мука. Точные цифры будут уточнены тестами 🔧.)*

**Принципы разрушения:** 1\. **Только урон может разрушить тайл** – бег и прыжки героя не ломают землю (никаких вмятин от тяжести). Правило: “земля не рушится от бега” означает, что без оружия игрок не может случайно провалиться. Это важно для предсказуемости: платформы под ногами не обрушатся, пока их не подорвёшь. 2\. **Вертикальные поверхности и потолки можно сломать так же, как пол:** пулями или взрывом. То есть, укрытия не вечны – враг, спрятавшийся за стеной, может быть достать, *разломав* стену. Однако несущие колонны иногда выполнены из особых блоков (сталь или “крупный камень”), которые сложнее разрушить, добавляя стратегию: например, можно расстрелять бетонный столб долго, либо сразу подложить заряд. 3\. **Гравитация для специальных блоков:** большинство обычных тайлов (земля, камень, дерево) *висят* в своем месте независимо от поддержки – как в классических платформерах. Но существуют элементы – *Falling blocks* (падающие блоки), на которые влияет поддержка. Пример: каменные плиты в храмовом уровне, висящие на цепях или держащиеся на тонких колоннах. Если подпора под ними уничтожена, они начинают падать. Это управляется как особый объект: *блок с включённой физикой*. Пока подпора есть, он статичен; лишился опоры – переходит в динамический режим (Rigidbody2D) и падает вниз, уничтожая всё, что раздавит (игрока или муков). Такие падающие блоки используются намеренно: например, ловушка – потолок, который игрок обрушивает, чтобы раздавить группу врагов. **Большие блоки** 2x2 работают аналогично, только тяжелее (проламывают узкую землю под собой, продолжая падать). 4\. **Крупные объекты и обвалы:** помимо отдельных блоков, в уровнях сценарно реализованы крупные обрушения. Например, целый мост может обрушиться (после уничтожения его опор). Технически это сделано двумя способами: либо мост составлен из множества falling blocks, либо смоделирован как единый объект, разрушающийся на фрагменты. В любом случае, разрушение моста – скриптовое событие (с триггером, когда убраны опоры). Это добавляет кинематографичности. 5\. **Поведение при взрывах:** взрывы – главный источник разрушений. Каждый взрыв имеет радиус поражения (см. следующая секция) и наносит тайлам урон. Блок уничтожается, если суммарный урон \>= его HP. Взрыв наносит максимальный урон в центре и меньше по краям (радиальный спад). Например, у гранаты \~35 урона в центре: достаточно, чтобы разбить все типы, кроме стали, в радиусе \~2 блоков. Блоки дальше 3-4 блоков могут уцелеть (получат частичный урон). Стальные блоки взрывом не разрушаются вообще (0 урона), так что они остаются даже после самых сильных бомб – этим гарантируется, что каркас уровня или важные точки не сломаются. 6\. **Защита от полного уничтожения уровня:** мы закладываем *неразрушимые* или *трудноразрушимые* элементы там, где нужно сохранить маршруты. Как упоминалось, стальные блоки используются под эвакуационной зоной, под чекпоинтами, под начальной точкой – игрок не сможет уничтожить верёвку эвакуации или выкопать бесконечную яму у старта. Аналогично, лестницы и зиплайны крепятся на неразрушимых опорах. Такой дизайн предотвратит ситуацию *unwinnable*: когда игрок “перестарался” и взорвал всё, включая путь вперёд. 7\. **Коллизии и повреждения от обрушений:** если на персонажа падает блок/обломок, его убивает мгновенно (даже героя). Это стимулирует осторожность при подрыве потолков. Враги тоже гибнут от падающих обломков – этим можно пользоваться (например, стрельнуть по потолку над моком). Падающий большой блок пробивает тонкий пол под ним, это создает эффект *цепного разрушения*: башня может проломить этажи вниз. 8\. **“Безопасное” передвижение:** как отмечено, бег/прыжки не рушат землю. Также мы не будем наказывать игрока за перестрелку вокруг стартового места: обычно зона старта немного укреплена (например, стартовая площадка – металл), чтобы первые шаги не провалили новичка. Враги своими выстрелами тоже могут рушить окружение, но их урон мал – редкий мук пробьёт стену один. Однако, например, враги с ракетами часто убивают своих же, разрушая площадки – это фишка игры. Мы аккуратно балансируем так, чтобы враги не разрушили *ключевые* объекты раньше игрока (например, не сбили эвакуацию). 9\. **Освещение и огонь:** при разрушении могут возникать вторичные эффекты. В темных уровнях (пещеры) можно добавить механики: например, уничтожив генератор (блок), гаснет свет. Или огнемёт оставляет горящие тайлы, которые постепенно уничтожаются как дерево/песок. Это факультативно (❓ под вопросом, зависит от времени). Базовая реализация: свет – скорее визуальный эффект, огонь – на поверхностном уровне.

Применяя эти правила, добиваемся правдоподобия *в пределах условностей ретро-игры*. Игрок быстро усвоит, какие блоки пробиваются, а какие нет, и начнёт использовать разрушение тактически. Например: “стена впереди слишком прочная для автомата – кину-ка гранату” или “пол под танком металлический, его не взорвать – надо стрелять прямо в танк”.

**Пример боевого использования разрушений:** Представим, игрок видит пулемётное гнездо на возвышенности (бетонный бункер). Фронтальные атаки опасны. Вместо этого он **подкапывается** снизу, ломая грунт под опорой бункера. Взрыв закладывается у фундамента – **бункер обрушивается**, падает и раскалывается, убивая турель и солдат внутри. Этот сценарий возможен благодаря сочетанию: грунт разрушаем, поддерживающая колонна убрана, бункер (сделанный из falling blocks) не имел опоры и рухнул. Игрок чувствует себя изобретательным. Такие ситуации – визитная карточка нашей физики разрушений.

В целом, система разрушения обеспечит **стратегическую глубину** (можно брать врагов хитростью, руша мир) и зрелищность (каждая перестрелка оставляет после себя буквально дымящиеся руины). Мы будем тщательно тестировать уровни, чтобы разрушения не ломали геймдизайн (см. плейтест-чеклист), и чтобы производительность не страдала при множественных удалениях тайлов.

### 5\. Бой, оружие, взрывы

Сражения в игре быстрые и смертоносные. Большинство врагов и сами герои погибают от одного-двух попаданий, поэтому **оружие** ощущается мощным. Каждому герою соответствует уникальный тип вооружения (основное и специальное). Разнообразие стволов – один из главных источников разнообразия геймплея. Ниже классификации оружия и их ключевые параметры:

* **Автоматическое оружие (автоматы, пулемёты):** высокоскорострельные, средний урон за выстрел, эффективны против групп слабых врагов и для раскопки грунта. Пример: M60 у коммандо (Rambro) – наносит \~1.5–2 dmg за пулю, скорострельность \~10 выстрелов/с (то есть DPS \~15–20), дальность 12 блоков. Пули небольшого калибра – **не проходят сквозь** врагов (каждая пуля поражает одного врага и останавливается). Отдача минимальная (игрок практически не отбрасывается). Разброс при стрельбе очередью: небольшой конус \~5° (на дистанции 12 блоков пули разойдутся на 1 блок). **Проникающая способность по материалам:** деревянные ящики прошивают, грунт разрушают постепенно, сталь не пробивают. Автоматы универсальны, но против бронированных врагов слабы (нужно много попаданий).

* **Дробовики:** большое разовое повреждение на ближней дистанции. Выпускают *7–10 дробинок*, каждая \~1 dmg. На упоре суммарный урон \~8 (убивает сразу почти любого мока). Дальность эффективная мала – \~5–6 блоков (далее дробинки теряют урон и исчезают). Разброс широкий (\~30°), поэтому можно одним выстрелом поразить нескольких врагов рядом. Перезарядка медленнее, чем у автомата (обычно 1 выстрел/с). В героях-примерах: Bro Hard (пародия на Джона Макклейна) использует дробовик. Дробовик хорошо *сносит части окружения* на ближней – может сразу разломать тонкую перегородку или отбросить врага взрывной волной (у нас реализуем нокбэк от близкого выстрела). **Отдача:** заметная, игрока слегка отбрасывает назад при выстреле в воздухе.

* **Пистолеты и снайперское оружие:** **Пистолеты** – как у Джеймса Бонда или Индианы Джонса, стреляют реже, но метко. Урон \~4 dmg, ROF \~2 в/с, дальность 10–15 блоков, высокая точность (почти без разброса). Часто у таких оружий есть *headshot-механика* – попадание в голову врага наносит повышенный урон (для нас это скорее просто высокий урон). **Снайперские винтовки**: очень высокий урон (убивает тяжёлого противника за один выстрел \~10 dmg), дальность экрана (20+ блоков), но задержка между выстрелами большая (1 выстрел каждые 1.5–2 с). Многие пули этого класса – *бронебойные*: проходят через несколько врагов (до 2–3 мишеней) и пробивают тонкие стены. Например, персонаж *Bro Gummer* (отсылка к фильму *Tremors*) с крупнокалиберной винтовкой может прострелить в ряд 3 мока. Пули оставляют чёткие дырки в окружении на своём пути. Недостаток – совершенно не подходит против толпы вблизи, т.к. скорострельность низка.

* **Взрывное оружие (ракеты, гранатомёты):** медленное и очень разрушительное. Пример: *Brommando* – М202 РПГ. Урон \~20 на краю взрыва, до 28 при прямом попадании, радиус \~3 блока. ROF \~1.3 выстр/с. Ракеты летят заметно (не мгновенно, \~1 блок/0.1с), некоторые даже могут иметь небольшой автонаводкой (у вражеских – да, у игрока обычно нет). Взрывные оружия **имеют AoE урон**: наносят урон всем в радиусе, от центра (полный) до края (50% или меньше). Формула падения – линейно: урон \= maxDamage \* (1 \- (dist/radius)). Таким образом, на краю 3 блоков от эпицентра урон \~50%. **Отдача:** сильная – стрелять из базуки отбросит героя на \~0.5–1 блок назад (и вверх, если в прыжке). Это даже можно использовать: например, выстрелив под себя, персонаж может подпрыгнуть выше (rocket jump), но ценой урона (в нашем случае – мгновенной смерти, т.к. friendly fire есть). Ракеты взрываются при контакте с любым объектом (землёй, врагом). Исключение – можно настроить, что если герой стоит очень близко к стене и стреляет, чтобы ракета не взрывалась прямо в стволе (даем \~0.2с safety fuse). В целом, rocket launcher – оружие ситуационное: идеально для групп врагов, турелей, боссов, но крайне опасно вблизи и ограничено (в руках некоторых персонажей количество ракет может быть мало, напр. 5 шт. в режиме специальной атаки).

* **Бросковое (гранаты, динамит):** вспомогательное вооружение, обычно активируется как *спецатака*. Граната у Rambro – осколочная, 6 шт, летит по дуге \~11 блоков, взрыв \~2 блока радиус, урон \~35 центр (смертельно для большинства). Коктейли Молотова – создают полосу огня (радиус меньше, но остаётся некоторое время пламя). Динамит (MacBrover) – липнет к поверхностям и врагам, взрыв через \~2 сек, урон большой (\~50). Бросковое оружие требует *контроля траектории* – у игрока будет прицел дуги (легкий ghost-trajectory, можно сделать для понятности). Такие средства хорошо подходят для поражения врагов за укрытием или снизу вверх. Боезапас ограничен (несколько штук) или перезарядка (cooldown). Многие гранаты **не наносят урон своим** – в оригинале так было, чтобы не отпугивать от использования. Мы можем сделать по-другому: лёгкий урон своим, но отбрасывание (чтобы была цена за ошибку, но не ваншот тиммейта гранатой ❓ – обсуждается, склоняемся к полной friendly fire для честности, но возможно режим).

* **Огнемёты и химическое оружие:** есть у некоторых «бро» (например, Ellen Ripbro имела огнемёт). Это *конусообразная* близкая атака: поток огня \~5 блоков длиной, шириной \~2 блока. Урон не мгновенный – поджигает врагов (те бегают в панике \~2 сек и умирают, малым боссам наносится DoT). Огнемёт крайне эффективен против больших скоплений слабых врагов в узких местах (сжигает всех), но бесполезен на дистанции. Его пламя **уничтожает слабые блоки** (дерево, кусты) мгновенно, но камень/сталь не повреждает. Интересная механика: огонь выжигает легкие блоки, но оставляет камень – т.е. можно выжигать туннели в зарослях. Боезапас огнемёта ограничен (например, топливо на 5 сек непрерывного огня, потом перезарядка пару секунд).

* **Экзотическое оружие:** ряд героев имеют уникальные механики. Например:

* **Бумеранг** (отсылка на Mad Max) – летит по дуге, наносит урон туда и обратно, подбирается обратно (бесконечный, но требует ловить).

* **Холодное оружие**: мечи, кнуты. Меч (Brade, Bro Lee) – убивает врагов вблизи одним махом, отражает пули при точном тайминге, но требует приблизиться. Кнут (Indiana Brones) – средняя дальность \~3 блока, оглушает врагов или вытягивает предметы. Такие оружия **не разрушают окружение** (или минимально – меч может прорубить кусты, но не камень).

* **Двойное оружие**: например, герой с двумя пистолетами (Brorry aka Dirty Harry) – стреляет залпами по 2 выстрела, охватывая чуть больший угол. Или герой с дуальными ножами – быстрее атаки ближнего боя.

* **Управляемое оружие**: отдельный класс – например, *аирстрайк*: лазерный указатель (как у персонажа *Trent Broser* из Expendabros) вызывает через 1-2 сек удар ракеты сверху. Игрок должен подсветить цель, уклониться – и взрыв огромной мощности (радиус 5+) разносит всё. Таких вещей мало, они больше для шоу, но добавляют тактики (вызвать удар по укреплению).

**Таблица примеров оружия (сводные параметры):**

| Оружие | Класс | Урон (за выстрел) | Скорострельн. (в/с) | DPS (оценка) | Радиус / дальность | Особенности |
| :---- | :---- | :---- | :---- | :---- | :---- | :---- |
| M60 Коммандо | Автомат | \~1.5 (макс 2 ближн.) | \~10 | \~15–20 | 12 блоков (прямой) | Небольшой разброс, бесконечн. патроны. Хорош для расчистки грунта. |
| Дробовик 12 калибр | Дробовик | \~8 ближн.\<br\>(8×1) | \~1 | \~8 | 5 блоков эффективно | Широкий конус, отбрасывает врагов, мгновенно разрушает хрупкие объекты вблизи. |
| Снайперская винтовка | Пуля (тяж.) | \~10 (пробивает цель) | \~0.67 | \~6.7 | 25 блоков (линия) | Пробивает нескольких врагов, высокая точность. Перезарядка \~1.5с. |
| Ракетница (RPG) | Взрывное | 20 (край)–28 (прямое) | \~1.3 | \~26 (в среднем) | Радиус \~3 блока (AoE) | Большой урон по площади, разрушает стены. Опасна на ближней дистанции (FF). Отдача ощутимая. |
| Граната M67 | Взрыв (бросок) | \~35 центр\<br\>\~15 край | \- (бросок, взрыв через \~3с) | n/a (единоразово) | Радиус \~2 блка (эффект до 4\) | Летит по дуге \~11 блоков. Отпугивает врагов при падении (они разбегаются). Ограничено 6 шт. |
| Огнемёт | Огонь | \~5/сек (накопительный) | \- (пост. поток) | \~5 | 5 блоков конус | Поджигает врагов (DOT \~2 HP/сек на 2 сек). Сжигает деревянные/легкие тайлы. Топливо ограничено (5 сек). |
| Меч самурая | Ближний бой | 5 (рубящий) | \~4 | \~20 (если все удары попадают) | 1 блок (контакт) | 1 удар убивает обычного врага (HP3). Отражает пули при тайминге. Безэффект. против стен. |
| Бумеранг | Метательное | 3 (туда) \+ 3 (обратно) | \~1 (цикл броска \~1с) | \~6 (при обоих попад.) | \~8 блоков (дуга) | Возвращается к герою. Может сбить нескольких врагов на пути. Требует ловить (герой должен поймать, иначе упадёт). |

*(Примечание: DPS для взрывных оружий условен, т.к. они наносят разовый урон по группе. Они более ценны тактически, чем по прямому урону в секунду.)*

**Формула урона от взрыва по расстоянию:** используем линейную модель: damage(dist) \= baseDamage \* max(0, 1 \- dist/Radius). Например, граната: baseDamage \~35, Radius=2; на дистанции 0–2 блока урон падает от \~35 до 0 линейно. Это означает, что до 2 блоков – гарантированно убивает обычных врагов (HP3) и ломает грунт (HP3). На 3–4 блоках урон 0–5 – едва ли заденет (может лишь ранить). Для рокет-ланчера: baseDamage \~28, Radius \~3; на 3 блоках урон \~0, на 1.5 блка \~14. Формула будет уточняться, но линейная – наиболее простая для понимания игроком (чуть вышел из красного круга – выжил). ✅ Эта модель подтверждена тестами в прототипе.

**Импульс (knockback):** взрывы не только ранят, но и отбрасывают. Импульс рассчитывается по массе объекта и расстоянию. Герои и враги – легкие (массой \~50кг), их подбрасывает сильно: на \~ (Radius \- dist)\*K высоту, где K – коэффициент (\~2 блока высоты на блок дистанции). То есть стоять прямо на гранате – отлетишь на \~4 блока вверх. Трупы/обломки тоже разбрасываются – зрелищность. Тяжелые враги (боссы, например) почти не двигаются от взрыва, но могут пошатнуться.

**Friendly fire и коллизии в ко-опе:** По умолчанию **включены** урон и столкновения между игроками (как и в Broforce). Это значит, что пуля вашего товарища может вас ранить или убить (как правило, в наших цифрах любое попадание \= смерть героя). Взрыв тем более заденет. Это добавляет **комедийного хаоса** и повышает скилл-кап: продвинутые команды будут осторожнее, а новички – будут весело подрываться друг на друге. Однако, мы добавим опции: \- *Опция: Отключить friendly fire* – для тех, кто хочет легкого прохождения без фрустрации. Тогда игроки проходят друг сквозь друга, урон от оружия союзников не наносится. Эту опцию можно включить в локальном ко-опе или приватном онлайн-лобби (на паблике по умолчанию FF=On). \- *Опция: Смягчённый FF* – компромисс: пули союзников наносят 50% урона (не убивая с 1 раза, но раня), взрывы все еще смертельны. Возможно, используем на Easy сложности. \- *Коллизии персонажей:* в оригинале герои могли частично перекрывать движения друг друга, что приводило к толкотне. Мы решаем сделать **без коллизии между игроками** (призрачно проходят), чтобы не мешать маневрировать в тесных местах. Но это может упростить игру (нельзя случайно скинуть друга в яму). Решение: ❓ в процессе – либо полные коллизии (классика, более хардкор), либо отключить горизонтальные (проходить можно), но оставить вертикальные (нельзя стоять друг в друге, прыжком можно отпихнуть). Будем тестировать на удобство.

**Боевой ритм и тактика:** Несмотря на хаотичность, боевка предполагает различные тактики: \- *Дистанционный расстрел:* снайперскими героями выгодно отстреливать опасных врагов издалека, до того как они активировались. Мы предусмотрим участки уровней, где дальник чувствует себя хорошо (длинный коридор, открытое пространство). \- *Атака напролом:* автоматчики и «Рэмбо» стилистика – бежать вперёд, держа спуск. Это работает на простых врагах, но опасно против тяжёлых (они могут пережить и ответить). Такой стиль вознаграждается быстрым прохождением, но наказан частыми смертями (что, впрочем, не очень страшно, учитывая запас жизней). \- *Использование разрушений:* как описано, подорвать мост под врагами, обрушить потолок – часть тактики. Оружие вроде гранатомётов идеально для такого: стреляешь не *в* врага, а *под* него. \- *Командная синергия (ко-оп):* игроки могут разделять роли: один с ракетницей прорубает путь/уничтожает укрепления, второй с автоматом прикрывает от набегающих мелких врагов, третий со щитом (если будет персонаж с защитным гаджетом) идет впереди отвлекая. Мы обеспечим разноплановых героев, чтобы такие командные сочетания складывались естественно.

**Заключение по бою:** Стрельба будет **смертельно опасна** и для врагов, и для игроков – это сохраняет накал. Зато враги глупее, их много и погибают красиво, отлетая на куски. Арсенал игрока – его главное преимущество, дающее ощущение превосходства (*power fantasy*): вооружён десятком способов уничтожить. Взрывы – сердце визуального веселья, мы их усилим аудио-визуально (гром, вспышки, screen shake). Combat-дизайн ориентирован на короткие интенсивные схватки, разрешаемые либо мгновенной расправой над врагами, либо гибелью героя и продолжением уже новым бойцом. Благодаря этому **динамика боёв никогда не буксует** – нет затяжных перестрелок, каждый конфликт решается за секунды (или взрывом). Таблицы урона и радиусов, приведённые выше, будут уточняться балансировкой, но уже сейчас дают нам ориентиры для реализации прототипа и сравнения с оригиналом *Broforce*.

### 6\. Персонажи (аналог “бро”)

Главные действующие лица – бойцы отряда Freedom Squad (рабочее название). Это пародийные герои боевиков, каждый со своей фишкой. Важно: **не нарушая IP**, мы разрабатываем *новых* персонажей, лишь навеянных архетипами экшн-культуры. Ниже представлена подборка наших героев (кодовые имена) и их способности:

| Персонаж (коднейм) | Архетип/роль | Основное оружие (активное) | Спец. способность (навык/ульт) | Примечания и баланс |
| :---- | :---- | :---- | :---- | :---- |
| **Captain Carnage** (Капитан Карнаж) | Коммандос (Рэмбо+Дюк Нюкем) ✅ | Автомат M60 – урон 1.5, скоростр. 10/с, бесконечные патроны. Ближний бой – нож (4 dmg). | Метает гранаты (x3, перезарядка 15с) – осколочные, \~35 урон, радиус 2\. Гранаты не ранят союзников (как у Rambro). | Стартовый герой по умолчанию. Универсален, высокое DPS по пехоте, но без особенностей. Баланс: гранаты очень мощные, но ограничены; нож быстро убивает вблизи. **✅** |
| **Sgt. Steel** (Сержант Стил) | Тяжёлое вооружение (терминатор/«Огненная поддержка») | Миниган «Vulcan» – раскрутка 1с, затем 15 выстр./с, урон 1 каждый, бесконечный поток. При стрельбе замедляет движение героя. | *Спец:* переходит в неуязвимый режим на 3 сек (становится киборгом из стали) – продолжает стрелять без урона от пуль. Перезарядка 30с. | Мощь по толпе: очищает экраны врагов шквалом пуль. Но (\!) при выстреле неточное прицеливание (разброс 15°) и существенная отдача, может столкнуть с уступа. Неуязвимость компенсирует его крупный хитбокс. Риск дисбаланса: режим бога. Балансируем короткой длительностью и тем, что ближний бой/взрывы все еще убьют. **✅** |
| **Shadow Blade** (“Тень-клинок”) | Ниндзя (скорость и ближний бой) | Меч-катана – мгновенные удары, \~5 dmg, рубит нескольких вблизи. Также метает сюрикены (по умолч. 3 шт подряд, 1 dmg каждый) на небольшое расстояние. | *Ульта:* дымовая завеса – ниндзя бросает дым-бомбочку, скрывающую всех игроков в области 5×5 блоков на 5 секунд (враги перестают целиться). Перезарядка 20с. | Очень быстрый: повышенная скорость и двойной прыжок. Может карабкаться по стенам. Но почти без дальнего урона – уязвим против турелей и на открытых местах. Эффективен для скрытного убийства групп (если не поднята тревога). Баланс: слаб против босса, требует поддержки другими. **✅** |
| **Deadeye Duke** (“Меткий Герцог”) | Стрелок (ковбой/киллер) | Револьвер “Peacemaker” – 6-зарядный, 4 dmg/пуля, скорострельность 2/с, дальность 12, высокий точность (можно целиться на голову). Перезарядка после 6 выстрелов \~2с анимация. | *Навык:* “Дуэль” – замедляет время на 3 секунды для всех, кроме себя (эффект как у Time Bro). В замедлении он может выстрелить до 6 раз очень быстро (фактически реализуем как врем. увеличение скорострельности ×3). КД 25с. | Специалист по точечному устранению. Может быстро вынести опасную цель (снайпера, гранатомётчика) до того, как тот среагирует. Слабость – толпа врагов на ближней (ему трудно всех перестрелять сразу, хотя ульта помогает). Balancing: slow-mo – сильный эффект, но кратковременный. **✅** |
| **Blaze & Beauty** (“Пламя и Фурия”) | Дуэт героев (что-то вроде пародии на *Мистер и миссис Смит*, два персонажа управляются как один) | Двойное оружие: огнемёт (в руках Blaze, муж.) и УЗИ-пистолет (в руках Beauty, жен.). При удержании атаки – одновременно идёт поток огня на ближней дистанции \+ стрельба пистолета дальнобойно. Огнемёт: 5/с урон, конус 4 блока; Пистолет: 1 dmg, 5/с, дальность 10\. | *Спец:* “Парный ворох” – герои встают спина к спине и крутятся на 360°, выпуская кольцо огня и пуль вокруг (анимация 1с). Это отбрасывает окружение вокруг на 2 блока, поджигая врагов. КД 20с. | Уникальный герой: управляется как один, но визуально это два персонажа рядом (hitbox чуть шире). Высокая зона поражения (вблизи огонь, вдаль пули), отлично в обороне точки. Недостаток – большая модель (легче попасть врагам), огнемёт не достаёт дальних врагов (но для того пистолет). Баланс: потенциально очень сильны в толпе, поэтому урон каждого оружия снижен (суммарно \~6 DPS), а здоровье остаётся 1 (попадание убивает сразу обоих). **✅** |
| **Doc Boom** (“Док Бум”) | Безумный учёный/подрывник (отсылка к Док Брауну, но злой) | Гранатомёт-лабутомёт: стреляет липкими бомбами. Каждая бомба прилепляется к поверхности или врагу и взрывается через 1 сек. Урон бомбы 20, радиус 2\. Скорострельность 1/с. | *Гаджет:* дистанционный детонатор – Док может нажать спец-кнопку и взорвать **все свои липкие бомбы** мгновенно (если хочет подорвать раньше таймера). КД 5с (минимальный, т.к. фактически ограничен наличием бомб). | Мастер разрушения. Его липучки можно налипить пачкой и подорвать одновременно, устраивая мегавзрыв. Может тактично разместить бомбу на враге и отпустить – тот побежит к другим и взорвётся (так делал MacBrover, аналог мины на врагах). Минус – сложно в прямом бою, т.к. задержка взрыва; требует планирования. Баланс: чтобы не был OP, ограничим максимум активных бомб (например, 3 одновременно). Если больше – ранние взрываются автоматически. **✅** |

*(Все имена условные, для внутреннего использования. В финале придумаем оригинальные имена без "Bro", например Captain Carnage и пр., которые не нарушают IP.)*

В таблице перечислены 6 героев. На релизе мы планируем порядка 15 игровых персонажей (Must — минимум 8, Should — 15, Could — 20+ с пост-релизом, см. Контент-план). Они будут открываться постепенно по ходу кампании. Стартовый набор – 1 герой (Captain Carnage), первый же спасённый дает второго, и так далее. **Случайная выдача персонажей:** сохраняется из *Broforce* – игрок не выбирает героя на уровне (кроме как в специальных режимах или после полного прохождения ❓). Каждый раз, когда умирает, он возрождается другим (случайным из открытых). Спасение заложника тоже сразу переключает на другого. Это важный элемент баланса: даже если какой-то герой слегка сильнее других, долго играть им не получится – ротация поддерживает разнообразие и препятствует эксплойту одной имбой.

**Активные/пассивные навыки и ульты:** В отличие от *Broforce*, где спецатака ограничена числом зарядов, мы можем внедрить систему *кулдаунов*. Как видно из таблицы, у ряда персонажей спецспособность обозначена как *ульт/навык* с перезарядкой. Это отличается: игрок не собирает “патроны” на уровне, а просто ждёт восстановления. Такое решение современнее и поощряет регулярное использование. Риски дисбаланса: если кулдаун слишком короткий, игрок будет спамить ульту и игнорировать опасности. Мы уже заложили достаточно длительные КД (15–30с) – за уровень обычно 1–3 раза получится применить. Этого достаточно для эпизодического “звёздного момента”, но не ломает основной геймплей.

**Пассивные способности** также будут: \- У некоторых героев – например, Shadow Blade – пассивно выше скорость и двойной прыжок (как упомянуто). Другой пример: персонаж на подобие *Mr. Anderbros (Neo)* – мог бы иметь пассивное замедление пуль рядом (но не факт, что включим). \- Ещё пассивы: огнестойкость (персонаж в асбестовом костюме не горит), иммунитет к своему оружию (под вопросом, оригинал позволял подрываться своим же, мы скорее оставим урон от своего). \- Пассивы будут использоваться умеренно, чтобы не перегружать: в основном различия идут от оружия и спецприёма.

**Баланс героев и риски:** Всех персонажей нужно сбалансировать так, чтобы не было очевидно бесполезных или явно имбовых. Благодаря случайной выдаче, *внутри одного уровня баланс не критичен* (игрок все равно играет разными). Но на макроуровне: если какой-то герой слишком слабый, игроки будут разочаровываться, когда он выпадает; если слишком сильный, выпадение его делает прохождение тривиальным. Будем опираться на: \- **Телеметрию использования:** отследим, на каких персонажах игроки чаще выживают дольше, и на каких чаще гибнут. Если, скажем, Shadow Blade постоянно гибнет (мало хп, ближний бой) – надо бафнуть (например, дать временную неуязвимость после убийства или ускорить анимации). Если Sgt. Steel в неуязвимости проходит пол-уровня, можно занерфить длительность способности. \- **Обратную связь игроков:** скорее всего, комьюнити быстро укажет, кто имба. Мы планируем пост-релизом патчи баланса (для одиночной игры это редкость, но для ко-оп веселья можно подкручивать).

**Примечание по женским персонажам:** *Broforce* первоначально не имела женских героев, но позже ввела парочку (Ellen Ripbro, Cherry Broling), позиционируя “bro” как гендерно-нейтральное понятие. Мы с самого начала включаем женщин-героинь (например, Beauty в дуэте, или можно добавить персонажа прототипа Рипли). Они в команде наравне, без изменений геймплея, чисто визуальное разнообразие и отсылка к female action heroes (как Сара Коннор и т.п.). Это и с этической, и с маркетинговой точки зрения плюс.

В итоге, раздел *Персонажи* очерчивает фундаменты: **уникальный набор героев**, каждый – маленькая “игра в игре” со своим стилем. Игрокам предлагается освоить всех, чтобы эффективно реагировать на ситуации. Этот “рояль в кустах” дизайн (вы никогда не знаете, кто у вас окажется следующим) доказал свою увлекательность. Мы его сохраняем, тщательно следя за тем, чтобы любой выпавший персонаж мог принести пользу и удовольствие, а не стать наказанием.

*(Замечание: Многие параметры отмечены как оценка/требуется тест, будут уточнены опытным путём. Таблицы и описания – рабочий дизайн-документ для дальнейшей балансировки.)*

### 7\. Враги и боссы

Противостоят нашим героям *легионы врагов*, условно объединённых под знамёнами некоего Зла (террористы, наёмники, монстры – сеттинг определим с учётом дифференциации, но в целом похожая смесь как у *Broforce*). Враги делятся на **классы по иерархии**: пехота (легкоубиваемые массовые мобы), специальные бойцы (со щитами, снайперы и т.п.), тяжёлые (с повышенным здоровьем и мощным оружием), механические турели/техника, а также уникальные *боссы*. Приведём обзор основных типов:

**Пехота (рядовые мобы):** слабые солдаты, часто появляются группами. Их роль – пушечное мясо, создающее давление числом. \- *Обычный стрелок (Regular Mook):* базовый враг. Вооружён автоматом АК-47 (похож по характеристикам на оружие игрока, 1 dmg пуля, \~1 выстрел/сек). Здоровье \~3 HP – погибает от одной-двух пуль героя (у большинства героев урон 2+, так что 2 попадания достаточно). Радиус обнаружения \~10 блоков по прямой. При виде игрока делает эмоут "\!" над головой (предупреждение) и начинает стрелять очередями. Меткость средняя – пули летят примерно в игрока, но с разбросом, чтобы не попадали гарантированно. *Поведение:* патрулирует небольшую зону (ходит 2–3 шага туда-сюда). Если игрок попадает в его зону видимости или шум (взрыв) раздаётся поблизости, переходит в состояние атаки. В атаке стоит на месте и стреляет; если игрок скрылся, подбегает ближе (к последней известной позиции). Группы муков могут прятаться за укрытия, но ИИ простой: нет координации, они действуют самостоятельно. **Лут:** не дропают ничего (возможно, только визуально оружие, но игрок не может поднять). \- *Камикадзе (Suicide Mook):* боец со взрывчаткой на груди. HP \~1–2 (очень хлипкий). У него нет дальнего оружия – он бежит к игроку (скорость чуть быстрее героя) и подрывает себя. Взрыв при самоубийстве равен гранате (\~35 dmg, радиус 2). Если его убить до того, как добежал, он всё равно **детонирует через доли секунды** после смерти – поэтому опасность сохраняется. *Поведение:* как только видит игрока (радиус 8 блоков, или по звуку взрыва рядом) – издаёт вопль и спринтует к нему прямой линией, игнорируя укрытия. Можно отбросить или замедлить: попадание пули замедляет на 0.2с, удар ближний откидывает на \~1 блок (идея: можно пнуть его прочь). При смерти всегда взрывается (то есть безопасно его убить только издали). В ко-оп представляет большую угрозу, т.к. может вбежать в толпу игроков и убить всех. \- *Разведчик/сигналист (Scout Mook):* слабовооружён (пистолет или вообще без оружия, бинокль). HP 3\. Опасность не в уроне, а в том, что **поднимает тревогу**. *Поведение:* патрулирует большую зону. Обнаружив игрока, не атакует, а начинает убегать от него, выпуская сигнальные ракеты или крича. При этом все враги в радиусе (на экране) переходят в состояние тревоги (агрятся на игрока). Также Scout может активировать сигнализацию уровня (например, дернуть рычаг сирены), что вызовет подкрепление (спавн новых врагов) – механика для отдельных уровней. Если игрок убивает разведчика быстро (прежде чем он пробежал определенное расстояние), можно предотвратить волну подкреплений. Убийство такого приоритично. Его ИИ: увидел игрока \-\> бежит к ближайшей кнопке тревоги или просто хаотично через уровень, пока не погибнет. \- *Щитоносец (Riot Shield Mook):* пехотинец с баллистическим щитом. HP стандарт 3, но **спереди неуязвим** для пуль. Щит блокирует выстрелы и снижает урон от взрывов (впереди). С тыла и сверху уязвим норм. Вооружение – пистолет или дубинка (он может вблизи ударить игрока прикладом на \~2 dmg). *Поведение:* медленно наступает на игрока, держа щит впереди. Если к нему подойти, попытается ударить дубинкой. Уязвимость: щит вышибается любой *ближней атакой* игрока или сильным взрывом. После потери щита (он падает) солдат паникует и становится обычным стрелком, но уже практически обречён. Тактика: либо кинуть гранату за него (взрыв сзади), либо подпрыгнуть сверху (щиты прикрывают только перед), либо обойти (в ко-опе легко – один отвлекает, другой стреляет сзади). \- *Собаки (Attack Dogs):* быстрые ближние противники. HP 1 (стрелком убиваются мгновенно). Атака: прыжок на игрока – если достигает, то мгновенно загрызает (герой погибает). Скорость выше, чем у игрока. *Поведение:* сидят на месте (может, грызут труп, пример – если *facehugger*). Как только игрок в радиусе 8 бл. – собака рывком бросается. Может запрыгивать на небольшие уступы. Если собака наткнулась на труп (любого), она начинает его пожирать несколько секунд и **эволюционирует в “супер-собаку”** – более крупную (увеличиваем спрайт ×1.5, HP 3, урон тот же – ваншот, скорость немного меньше). Супер-пёс живучее, его уже не убить одной пулей – требует очередь или взрыв. Таким образом, если игрок не убивает сразу, враг усиливается. Лучшее противодействие – держаться на высоте (собаке нужен прямой путь) или уничтожать их на подходе (но скорость делает целение сложным – хороши дробовики против них).

**Специалисты:** враги со специфическим оружием или свойства, требуют менять тактику. \- *Гренадёр (Grenadier Mook):* солдат с бесконечными гранатами[\[3\]](https://broforce.fandom.com/wiki/Enemies_And_Allies#:~:text=Grenadier%20Mook). HP 3\. Вооружение: ручные гранаты, бросает их метко по дуге на дистанцию \~10 блоков. Гранаты врага похожи на игроковые: урон \~35, радиус 2, опасны. Причем, когда **гренадёр погибает, он роняет гранату** под ноги[\[3\]](https://broforce.fandom.com/wiki/Enemies_And_Allies#:~:text=Grenadier%20Mook) (то есть смерть не избавляет от угрозы сразу – место его гибели надо остерегаться секунду). Более того, *каждый раз*, когда по трупу гренадёра попадает пуля или взрыв, из него выпадает ещё граната[\[3\]](https://broforce.fandom.com/wiki/Enemies_And_Allies#:~:text=Grenadier%20Mook) (комедийный эффект – “у него было полно гранат на поясе”). Это создаёт цепные взрывы, если не осторожно. Такого врага лучше уничтожать издалека. Поведение: держит дистанцию, перебрасывает гранаты, пятится от игрока. Можно отбросить его гранаты обратно ударом ближнего боя (мы добавим такую механику: если своевременно нажать ближнюю атаку рядом с лежащей гранатой, герой отшвырнёт её – оригинал позволял[\[4\]](https://broforce.fandom.com/wiki/Enemies_And_Allies#:~:text=A%20Grenadier%20Mook%20will%20toss,the%20melee%20attack%20near%20them)). \- *Ракетчик (Bazooka Mook):* боец с РПГ. HP 3\. Стреляет самонаводящимися ракетами – примерно раз в 2 секунды выпускает ракету, которая летит к игроку по прямой, затем корректирует курс. Ракеты врага можно сбить выстрелом (у них 1 HP, любая пуля подрывает). Урон при взрыве \~20 (убивает героя), радиус 2\. Этот враг очень опасен, но интересен тем, что **его ракеты наносят урон и своим**. Часто бывает, что ракетчик выпустил ракету, игрок укрылся, ракета развернулась и попала в толпу врагов – весёлый friendly fire. Поведение: стоит на месте или ходит чуть. Когда игрок в зоне видимости – стреляет ракетой, потом перезаряжает. Если игрок близко – может попытаться отойти (чтобы не попасть под свой взрыв). При смерти взрыва не вызывает (в отличие от гренадёра). \- *Ниндзя-маскировщик (Ninja Mook):* враг ближнего боя, который **прячется**. HP 3 (обычный). Обычно лежит на земле замаскированный (вплоть до невидимости, только небольшой знак вопроса над ним выдает). Если игрок подходит на \~3 блока – ниндзя выпрыгивает и быстро бросается на героя с мечом, убивая с одного удара. Если игрок внимателен, перед подскоком видно “?” над маскировкой. Также укажем визуально, например слегка отличающаяся плитка. Победить: держаться настороже – когда выпрыгнет, застрелить (у него задержка \~0.3с перед ударом). Поведение: сидит до обнаружения. Никак иначе не атакует. Может быть легко уничтожен, если игрок бросит гранату туда заранее или сломает тот блок. В общем, это *скример-ловушка*. \- *Офицер (Mook General):* нечасто встречается, но интересен. HP 3 либо 5 (чуть прочнее). Вооружен пистолетом, не слишком опасен сам. Но при обнаружении начинает вызывать подкрепления по радио. Каждые \~2 секунды, пока он жив, появляются новые враги из спавнеров (вертолёты прилетают или двери открываются). Поэтому при встрече с ним – приоритетно убить, иначе поток врагов нескончаем. Поведение: отходит назад, достаёт рацию. Может прятаться за других. Это, по сути, мини-босс на уровне *Covert Operation* (в Broforce был такой). \- *Рюкзак с пропеллером (Jetpack Mook):* враг воздушный. HP 3\. Летает с помощью ранца, патрулирует горизонтально. Вооружен пистолетом или мини-ракетами (мелкий урон). Особенность: **после смерти падает и взрывается как газовый баллон** – то есть его ранец детонирует. Падает в ту сторону, куда был направлен, поджигает и уничтожает тайлы вокруг при взрыве. Получается “живой снаряд”. Такого врага лучше не подпускать близко – при убийстве над головой героя он может взорваться прямо на нем. Тактика: сбить, отойти.

**Тяжёлые враги:** \- *Бронированный громила (Bruiser):* крупный солдат в броне[\[5\]](https://broforce.fandom.com/wiki/Bruiser#:~:text=Type%20Mook%20Attacks%20Minigun%2C%20range,The%20Expendabros%20SpawnResource%20Trigger%20mooks%2Fzmookbigguy). HP \~25[\[5\]](https://broforce.fandom.com/wiki/Bruiser#:~:text=Type%20Mook%20Attacks%20Minigun%2C%20range,The%20Expendabros%20SpawnResource%20Trigger%20mooks%2Fzmookbigguy) (примерно в \~8 раз больше обычного врага). Высок (спрайт 2-3 блока). Вооружен миниганом: раскручивает \~1с, затем лупит \~20 пуль, потом перегрев пауза 2с. Пули наносят по 1 урону, но летят веером – очень опасно без укрытия. Здоровье позволяет пережить даже прямое попадание ракеты (28 dmg), т.е. его надо либо двумя ракетами, либо залпом. Можно обезглавить его, прыгнув сверху и атакой ближней (в оригинале так упоминалось: *“можно обезглавить, если немного над ним”*[\[6\]](https://broforce.fandom.com/wiki/Bruiser#:~:text=,destroy%20him%20instantly%2C%20provided%20that)) – но это сложный рискованный трюк. Поведение: *Idle:* ходит медленно, иногда топает, останавливается. *Alert:* если заметил – начинает обстрел: стоит и стреляет длинными очередями с паузами. Может медленно идти, продолжая стрелять (поджимает). Не пытается уклоняться от гранат (глуповат). **Страх перед огнем:** если поджечь его огнемётом, он будет паниковать дольше обычных врагов (это способ облегчить бой). Рекомендуемые тактики: отвлекать, чтобы другой игрок зашел со спины; подложить динамит; или сбросить на него что-то тяжелое – *Bruiser* тоже гибнет от падения блока. Он не пролезает в узкие проходы (более 2 блоков шириной) – этим можно пользоваться. \- *Мех (Super Mook / Armored Walker):* вражеский робот-костюм. Представляет собой солдата, сидящего в двуногом мехе. **Практически неуязвим** к обычному урону – пули и взрывы не дамажат (класс “боссоподобный”). Единственная уязвимость – *упасть с высоты 3+ блоков* или быть *угнанным* игроком. Мех вооружён: пулемёты и ракеты, стреляет залпами, что крайне опасно. Поведение: ходит, летает (ранцы) не использует обычно. Как только видит героя – начинает шквальный огонь. Решение: **прыгнуть сверху на меха** – в игре реализуем меха как объект, на который можно запрыгнуть. Если игрок приземлится на него и нажмёт \[melee\], он выкинет пилота и захватит мех. Тогда некоторое время сможет из него стрелять (у меха ограниченный запас топлива, можно пополнять, собирая ammo crate). Спустя время мех взрывается. Это классный moment-of-awesomeness (как и в оригинале, меха можно угонять). Если игрок не предпринимает – мех идёт вперёд, выдавливая, убивает всех. Мех не обязателен на каждом уровне, но может быть highlight. \- *Танк:* крупногабаритная техника (например, на открытых уровнях). Появляется редко, фактически мини-босс. HP \~40. Имеет гусеницы – движется по земле, давит все на пути (игрок мгновенно погибнет, если попадёт под гусеницу). Орудие стреляет крупным снарядом (взрыв 30 dmg, радиус 3). Также может иметь пулемётную турель. Уязвимости: задняя часть (например, топливный бак) – стрельба туда наносит ×2 урон. Также над танком обычно летает знак “\!” показывая опасность. Как победить: или закидать гранатами, или подпустить на мост и взорвать мост (танк падает в пропасть – классика). После уничтожения танк взрывается большим взрывом, разлетаются обломки.

**Механика турелей и спавнеров:** \- *Автоматические турели:* стационарные орудия, часто на потолках или полах. Примеры: *Totem Turret* – вращается на 360°, стреляет очередями; *Wall Turret* – торчит из стены, стреляет в одном секторе. HP обычно \~5–10 (требуют или много пуль, или взрыва). Турели реагируют на игрока по датчику: как только игрок входит в их сектор – начинают огонь без промаха (трассеры). Поэтому лучше уничтожать из\-за угла, кидая гранату. Турели не могут передвигаться, но часто защищены окружением (например, щитом сверху). Если умело разрушить опору, турель может упасть (и разбиться). \- *Спавн-двери (Mook Door):* точки появления врагов. Выглядит как дверь бункера или люк. Оттуда периодически появляются новые мобы (обычно базовые моки) пока дверь цела. HP двери \~10. Если игрок задержался, из бесконечного потока может набежать слишком много врагов, мотивируя **скорее разрушить спавнер**. В Broforce двери спавнили только ограниченное число, но у нас можно варьировать. Спавнеры можно уничтожить или просто избегать, двигаясь дальше (враги могут бежать следом, но если игрок уходит далеко, спавн прекращается). \- *Взрывные ловушки:* например, мины на земле (наступил – взрыв 20 dmg, радиус 1), растяжки (лазерный луч, пересёк – взрыв). Они не являются врагами, но относятся к препятствиям. Обнаружить можно визуально (мины чуть видны, лазер – тонкая линия). Их можно обезвредить выстрелом или гранатой (детонируют безопасно на расстоянии). На высоких сложностях эти ловушки чаще, на низких – реже и заметнее.

**Поведение врагов (FSM):** У большинства врагов примитивный AI: состояний 2–3. Типичный Finite State Machine рядового mook:

stateDiagram-v2  
    \[\*\] \--\> Idle  
    Idle: Патруль/Стоит  
    Idle \--\> Alert : Видит игрока\\nили слышит шум  
    Alert: Тревога\!\\n(преследует/стреляет)  
    Alert \--\> Attack : Игрок в зоне огня  
    Attack: Атака\\n(стрельба)  
    Attack \--\> Alert : Игрок скрылся\\n(выйти из боя)  
    Alert \--\> Idle : Потерял цель\\n(возврат на пост)  
    Attack \--\> Dead : Получил смерт. урон  
    Alert \--\> Dead : Убит  
    Idle \--\> Dead : Тихо устранён

В этой диаграмме: \- *Idle* – изначальное состояние. Моб может просто стоять курить или ходить небольшими циклами. \- *Alert* – когда игрок замечен (или услышан взрыв), моб активируется: поворачивается к направлению угрозы, произносит реплику (в оригинале боевики кричали “BRAH BRAH\!”), начинает искать цель. \- *Attack* – если есть прямая видимость и дистанция допускает, начинает стрелять/бежать атаковать. \- Если игрок исчез (например, отошел за край экрана) – враг может вернуться к *Idle* через некоторое время. Но чаще уровни компактные, и “потеря” происходит редко. \- Смерть (Dead) – состояние трупа (никакого AI, просто физика).

Такая FSM применима к стрелку. У самоубийцы Attack \= самоподрыв. У турели нет Idle, она всегда в Alert (смотрит в сектор).

**Зоны агgro:** У каждого врага есть радиус зрения/слышимости. Пример: обычный мук – видит \~10 блоков, слышит взрыв на \~15. Если игрок выстрелит с глушителем (например, персонаж Double Bro Seven со скрытым пистолетом), радиус звука меньше – можно тихо снимать врагов, не привлекая других. Мы эти моменты подумаем для стелс-элементов (в оригинале они минимальны, но можно добавить парой уровней covert-op).

**Гранаты/ракеты врагов:** как отмечалось, они могут вредить своим. Это важный элемент баланса – враги могут случайно поубивать друг друга, что снижает нагрузку на игрока и выглядит забавно. Тяжёлый Bruiser пулемётом может зачистить мелких, ракетчик подорвать весь свой отряд. Мы специально будем расставлять таких врагов, чтобы игрок мог спровоцировать friendly fire (например, заманить врагов под выстрел танка).

**Боссы:** В *Broforce* боссы были колоритными: например, *Террокоптер* (боевой вертолёт), *Мегакоптер*, *Адский червь*, и конечно *Сатана*. У нас по кампаниям: \- **Босс главы 1 (Jungle)** – аналог Террокоптера: *Боевой вертолёт «Devastator»*. Он вооружён пулемётами и ракетами, летает над уровнем. Фаза 1: кружит и обстреливает, игроки должны укрываться и отстреливать его (бросать гранаты вверх или стрелять при прыжке). После снижения HP на 50% – Фаза 2: вертолёт злится, начинает запускать большие ракеты и вызывает десант (с него спрыгивают мобы). В конце падает, взрывая часть джунглей. Уязвимости: получит повышенный урон, если попадать по пилоту (открывается окно, когда он запускает ракеты). Телеграфы: лазерное наведение перед ракетным залпом, звук сирены перед десантом. Анти-читерство: нельзя укрыться в пещере навечно – вертолёт сбросит бомбу и пробьёт крышу. \- **Босс главы 2 (City)** – например, *Бронированный Стелс-танк*. Едет по уровню, периодически маскируется (исчезает, только дрожь земли и маркер виден). Нужно уворачиваться от невидимых атак (ориентируясь по звуку/тени) и кидать С4, когда проявится. Фазы: сначала в открытом бою, потом убегает – вторая фаза на мосту (разрушить мост под ним – победа). \- **Босс глава 3 (Alien Base)** – *Инопланетная королева*. Нападает ближними атаками (клыки, кислота). Вызывает миньонов (фэйсхаггеров, скричеров). Уязвимость: пока орёт, открывает рот – туда выстрелить ракетой. Фаза 2: отрывает куски потолка и швыряет. Анти-чиз: если залезть в угол, королева сломает укрытие кислотой. \- **Финальный босс** – в Broforce это был Сатана с несколькими формами (сначала как политик, потом гигантский демон). Мы можем сделать **Генерал Хаос** (условно). Фаза 1: бой с его личной охраной и вертолётом. Фаза 2: сам появляется в мех-костюме, стреляет из всех калибров. Последняя фаза: он активирует устройство самоуничтожения базы, и герои должны бежать, избегая огня – не убивая босса, а тупо пережить (аналог *Deathfield* у Сатаны, нельзя победить, только убежать). В конце, конечно, герои успевают, а босс гибнет взорвавшись.

**Телеграфы атак:** Каждая босс-атака будет телеграфироваться, чтобы игроки могли реагировать: \- Визуально (вспышка, заряд) или аудио (рев, сигнал). \- Например, *Megacockter* (гигантский вертолёт) в оригинале имел фазу преследования, где его появление давало тень и звук задолго. Мы тоже даём знаки: перед тем как червь выныривает – земля дрожит, сыпется песок. \- **Уязвимые окна:** у боссов должны быть понятные моменты, когда их можно повредить. Танк – открыт зад, но надо зайти сзади пока он стреляет вперёд. Королева – после прыжка застревает на секунду. Это классические приёмы, их применим.

**Anti-cheese меры:** “Защита от сыра” – т.е. от упрощённых побед нелепыми методами: \- Чтобы игрок не засел в укромной точке и не расстрелял босса без риска, боссы будут **ломать окружение/укрытия**. Например, если прятаться под постоянным навесом – босс обрушит потолок (скриптом). Если игрок залез на высокую вышку – босс её разрушит или достанет туда. \- Ограничения по высоте: некоторые боссы (вертолет) не опустятся слишком низко, чтобы игрок не мог его ударом ножа “ваншотнуть” – в original Broforce возможно было смешно убить босса ножиком. Мы можем такое оставить для фана, но лучше нет – у боссов иммун к мгновенному убийству. \- *Использование игроками физических багов:* например, как в старых играх, можно было встать прямо под боссом, где его пули не попадают, и спокойно стрелять вверх. Мы проверим геометрию атак, чтобы таких “мертвых зон” у боссов не было, или они компенсировались дополнительной атакой (например, босс бросает бомбы вниз под себя, если игрок стоит у него под ногами). \- **Таймеры:** в некоторых боях возможен *soft lock*, если игрок не догадается атаковать. Например, если босс уязвим только определённым оружием, а игрок его потерял. Мы избегаем такого дизайна: все боссы берутся любым уроном, просто некоторые способы быстрее. Но на всякий случай можно вводить деградацию – например, если бой затянулся \> X минут, босс начинает сам получать урон (условно, устаёт), чтобы гарантировать прогресс. Либо добавлять периодические supply drop (ящики с ракетами), чтобы у игрока всегда был способ добить. \- **Кооперативный баланс:** боссфайты должны учитывать число игроков. В ко-опе 4 винтовки могут босса “расплавить” мгновенно. Поэтому: повышаем HP босса пропорционально игрокам (на \+50% для 2P, \+100% для 4P, грубо), либо вводим *несгораемые фазы* (например, босс уходит в неприкосновенность после 25% урона, запускает скрипт – независимо от DPS команды). Это позволит избежать слишком уж быстрых убийств при 4-м пулеметов. То же относится к количеству миньонов: в solo босс призывает 2, в 4P может 5–6, чтобы всем было чем заняться.

**Пример FSM босса (упрощённо)** – у боссов обычно прописаны фазы вместо простого FSM: \- *Фаза 1:* определённые атаки по циклу. \- Если HP \< 50% – *Фаза 2:* меняет паттерн (новые атаки, агрессивность). \- *Rage (если есть Фаза 3):* при \<20% здоровья переходит в бешенство – очень быстро атакует, но это короткая завершающая фаза. \- *Dead:* когда HP=0, запускается сцена смерти (большой взрыв, может финальный QTE – в Broforce нужно Сатану ножом добить).

**Итого по врагам:** Мы сформировали «экосистему» врагов, аналогичную Broforce, с дополнениями. Массовые мобы создают фон простых целей, спецы заставляют реагировать по-разному (наклониться от пули, отбить гранату, бежать от собаки), тяжи требуют координации или heavy weapon. Боссы служат зрелищными финалами глав, проверяя навыки игроков и умение пользоваться окружением.

В таблице ниже собраны основные виды врагов с их параметрами:

| Враг | HP | Урон (атака) | Поведение (FSM) | Примечание (лут) |
| :---- | :---- | :---- | :---- | :---- |
| **Базовый мук** | 3 | 1 (пуля) | Патруль; при виде стреляет; преследует недолго. | Нет лута. Иногда падает оружие (для эффекта). |
| **Камикадзе** | 1 | \~35 (взрыв) | Бежит к игроку, взрывается. Если убит – через 1с взрыв. | Нет (только взрыв после смерти). |
| **Щитовик** | 3 | 2 (удар дубинкой) | Медленно идёт; лобовые выстрелы бесполезны; сбить щит атакой. | Щит выпадает (можно ли взять герою? Возможно нет, лишнее). |
| **Разведчик** | 3 | 1 (пистолет, редк. стрел.) | При виде игрока убегает, тревога; вооруж. слабо. | Рация падает (декор). Спавнит подкрепления. |
| **Собака** | 1 \-\> 3 | instakill (укус) | Бросок на игрока; ест труп \-\> супер-собака. | Нет. Труп собаки безобиден. |
| **Гренадёр** | 3 | \~35 (граната) | Бросает гранаты[\[3\]](https://broforce.fandom.com/wiki/Enemies_And_Allies#:~:text=Grenadier%20Mook); держит дистанцию; при смерти роняет гранату. | Выпадает куча гранат (взрываются сами). |
| **Ракетчик** | 3 | \~20 (ракета AoE) | Стреляет ракетами с наводкой; FriendlyFire. Укрывается редко. | Может упасть РПГ (но игрок не может поднять). |
| **Ниндзя** | 3 | instakill (катана) | Лежит скрытно; прыжок при близости; после атаки открыт. | Нет. (Катана может торчать, но игрок не возьмет.) |
| **Bruiser (громила)** | 25[\[5\]](https://broforce.fandom.com/wiki/Bruiser#:~:text=Type%20Mook%20Attacks%20Minigun%2C%20range,The%20Expendabros%20SpawnResource%20Trigger%20mooks%2Fzmookbigguy) | 1×много (миниган) | Патруль; атакует очередями; медленный, но живучий. Не укрывается. | Нет. Иногда выпадает большой пулемёт, но он стационар (для эффекта). |
| **Мех (штурмовой)** | N/A | 1 (пули) \+ 20 (ракеты) | Шагает, стреляет; почти неуязвим; можно угнать. | Угоняем; после уничтожения взрыв \+ может дроп амуниция. |
| **Танк** | 40 | 30 (снаряд AoE) | Едет вперёд; поворачивает пушку; слегка наведение. Уязвим сзади. | Взрыв крупный при смерти (разносит окружение, осторожно\!). |
| **Авто-турель** | 5–10 | 1 (очередь) | Статична; поворачивается и стреляет если видит. | Нет (может выпасть куча металлолома). |
| **Спавн-дверь** | 10 | N/A | Периодически выпускает врагов. | После разрушения больше враги не идут. |

*(Лут: подавляющее большинство врагов ничего полезного не роняют. Исключение можем сделать: редкие враги могут ронять* *плюшки* *– напр. один из 20 муков уронит "жизнь" (пленного, которого можно сразу спасти \= \+жизнь) или "временно усиление" (напиток, дающий неуязвимость на 5с). Но это скорее аркадные механики, решим позже ❓. Пока считаем, что лута нет, кроме случаев, обусловленных поведением врага.)*

**Боссы** описаны выше нарративно, их параметры будут индивидуальны. Их баланс: HP \~100–200 (чтоб не убивались мгновенно), урон их атак – часто инстакилл героя, но уклониться можно. **Анти-‘one shot’ правило:** возможно, введём механику, что если герой полного здоровья (ну 1 HP) получает чрезмерный урон, вместо смерти он падает контуженый (на 1 сек), давая шанс спастись. Но в Broforce любой удар \= смерть, это часть хардкора. Скорее оставим классическую схему: любое попадание – смерть героя. Это относится и к боссам: они убивают с одного удара, но и сами умирают не от одного попадания. Такой дисбаланс компенсируется численным превосходством героев (многими жизнями) и “respawn-фактором”.

Подведя итог: **враги** будут создавать насыщенный, но предсказуемый хаос. Каждый тип отличим визуально и звуком (мы обеспечим, чтобы по силуэту и поведения можно было сразу сказать “о, гренадёр – готовься отбить гранату” и т.д.). Таблицы и диаграммы помогут нам в реализации AI и настройке параметров. В ходе плейтестов (см. Приложение E) будем смотреть, нет ли слишком “злых” мест или, наоборот, скучных.

### 8\. Уровни и цели

Уровни представляют собой короткие миссии с разнообразными задачами на фоне тотальной разрушаемости. **Типология уровней** в нашем проекте: \- **Линейные (горизонтальные):** классический тип – начать слева, пробиться направо до финиша. Пример: джунгли, города. Большинство миссий такие. \- **Вертикальные:** движение снизу вверх (штурм башни) или сверху вниз (спуск в шахту). В таких уровнях камера продвигается вертикально. Они проверяют платформенные навыки (прыжки). Пример: *Temple* в оригинале, где надо было подняться через руины с падающими камнями. \- **Комбинированные:** зигзагообразный маршрут (вверх-вниз-вправо). Мы будем варьировать, чтобы не было однообразия. Например, уровень может начаться горизонтально по улицам, затем герои спустятся в метро (вниз), потом снова вверх на поверхность. \- **Сетписы (set-pieces):** скриптово-ориентированные уровни, выделяющиеся особыми событиями. Например, **уровень-погоня:** герои преследуют поезд/конвой, бежа на фоне движущихся декораций (на самом деле уровень движется). Или **уровень-оборона:** держать точку X секунд против волн врагов. Таких немного, но они разнообразят кампанию. В Broforce тоже были спецмиссии типа *“погони с акулой”*. \- **Заложники:** уровни с целью спасти определённое число пленников (не просто как жизни, а как задача). Например, 5 мирных граждан разбросаны по карте – нужно всех освободить и довести до выхода. Если один погиб – миссия провалена. Это добавляет челлендж: нельзя бездумно всё взрывать. \- **Босc-файты:** отдельно выделяем уровни, где ключевая цель – босс (обычно в конце главы). Обычно у такого уровня структура: короткий путь к арене, затем сам бой.

**Генерация и сборка уровней:** Мы используем *модульный дизайн*. У нас будут **блоки-сегменты** (примерно 20×20 тайлов), которые можно комбинировать. Каждый сегмент – мини-сцена (например, “бункер с врагами и турелью” или “подвесной мост над пропастью”). Дизайнеры могут вручную комбинировать их, а могут генерировать вариации. Но полностью процедурной генерации мы не планируем (хотя потенциально режим Survival/Random Levels – опционально позже). Основная кампания – ручной дизайн, собранный из проверенных элементов, чтобы темп и драматургия уровня были на высоте.

**Составление уровня:** \- Начало: обычно относительно спокойное, даёт взять под контроль ситуацию. Например, первый враг стоит спиной – легко устранить. Это сделано, чтобы игроки сразу не получили по лицу. \- Дальше: серия *боевых арен* – участки, где происходит схватка (несколько врагов, иногда спавн подкрепления). Между аренами могут быть *переходы*: прыжок через обрыв, преодоление ловушки. \- Кульминация: либо мини-босс (например, большая турель или тот самый *Mook General* с кучей охраны), либо особенно сложная сцена (алярм вызвал 3 волну врагов, нужно всех убить чтобы пройти). В конце – эвакуация.

**Трюки с обрушениями:** Мы планируем включить в дизайн уровней *скриптовые обвалы*, т.е. заранее задуманные ситуации, когда разрушение окружения играет ключевую роль: \- *Обвал моста:* как упоминалось, игрок может подорвать мост, уронив находящуюся на нём технику или перекрыв погоню. Например, после прохождения моста – заскриптовать его взрыв, чтобы отрезать путь назад (кинематографично). \- *Подрыв опор здания:* в городской карте – небоскрёб на тонких колоннах, внизу бочки с топливом. Игрок стреляет – всё здание рушится на врагов. \- *Лавина/обвал скалы:* в снежном биоме (если будет) – взрыв вызывает сход лавины (может как убить врагов, так и героя – нужны укрытия). \- *Взрыв базы:* финальные уровни – типа “бегство из горящего штаба” – стены рушатся автоматически, земля проваливается, то есть уровень самоуничтожается, подгоняя игрока (как *Deathfield* level). \- *Интерактивные объекты:* например, **кран с подвешенным грузом** – если по нему выстрелить, груз падает и пробивает пол или давит врагов (подобно падающим блокам). Такие элементы — “рецепты ситуаций” — опишем в Level Design Bible.

**Цели на уровнях:** Не все миссии просто “дойди до конца”. Введём разнообразные цели: \- **Добраться до выхода (эвакуации):** базовая цель. На конце – дьяволенок/флаг (в оригинале надо было убить дьяволенка и поднять флаг США). У нас можем заменить на, скажем, “подорвать генератор и добраться до вертолёта”. Но по сути то же. \- **Спасти X заложников:** как говорилось, иногда цель – именно всех спасти, а не просто использовать как жизни. Индикатор (например, “Rescue 5/7”). Если какого-то убили враги или при разрушении – side-objective fail (может влиять на рейтинг миссии, но не обязательно Game Over, решим). Возможно обязательная цель – тогда провал \= рестарт уровня. Это даст стимул быть аккуратнее. \- **Уничтожить объект/цель:** напр. “уничтожьте 3 вражеские радарные установки на уровне”. Игроки могут выбирать порядок. После уничтожения последней – миссия выполнена (может появиться эвак). Это стимулирует исследовать карту, а не просто идти вправо. \- **Выдержать время:** уровень-оборона, где нужно продержаться N секунд/минут, пока, допустим, идет эвакуация. Постоянные волны врагов, герой может укрепиться (есть турели, минные поля). По истечении времени – кончены враги или приходит вертолёт. \- **Эвент/таймер:** разнообразие – например, уровень с бомбой: отведено 60 секунд, чтобы герой добрался и обезвредил (выключил). Если не успел – бум (Game Over). Или уровень, где поднимается лава/вода снизу – требуя спешить (авто-скроллер вертикальный). \- **Скрытное прохождение (опционально):** может быть миссия, где рекомендуется не поднимать тревогу (враги бесконечно спавнятся, если заметят). Цель – тихо устранить всех офицеров. Это сильно меняет геймплей (тише едешь, аккуратно). Опционально, можно провалить стелс и все равно пройти, но сложнее.

Мы должны быть осторожны: основная прелесть *Broforce* – бесшабашный экшен, не перегруженный задачами. Поэтому **большинство уровней** – просто уничтожь всех и дойди до конца (цель имплицитно – зачистка). Но пару миссий с вариативными целями вставим, чтобы освежить процесс и удивить игрока.

**Дизайн модулей и окружения:** \- **Биомы/темы уровней:** планируем \~4–5 биомов: Джунгли, Город, Подземная база/шахты, Инопланетные пещеры/улей, Ад/финал (в зависимости от лора). Каждый биом – свой набор тайлов, фон, враги (в джунглях – террористы, в городе – спецназ, в улье – алиены, в Аду – демоны). \- **Модули окружения:** для каждого биома заготовим \<span id="модули"\>\</span\>модули: например, **“бункер”** – бетонный ДОТ с турелью и дверью спавна; **“деревянная деревня”** – хижины на сваях, которые легко горят и рушатся; **“подвесной мост”** – длинный мост над пропастью с минами; **“городское здание”** – многоэтажка с лифтом; **“туннель”** – узкий коридор, где гранаты эффективно. \- Левел-дизайнер будет собирать уровни как конструктор из этих модулей, добавляя уникальные элементы для сюжета (например, место появления босса, или место спецэвента). \- **Секреты и скрытые пути:** мы заложим на уровнях скрытые области за разрушаемыми стенами (как в классических играх). Там могут быть бонусные POW (чтобы быстрее открыть героев) или пасхалка (например, значок “Yippee Ki Yay” – сбор коллекций, или скрытый персонаж). Взрывчатка позволяет пробить многие стены, так что почти любой угол может оказаться тайником – надо баланс: часть стен делаем indestructible, чтобы не ломали всё подряд в поисках. Но ключевые секреты обозначим тонко (треснувшая стена, например). \- **Чекпоинты:** В оригинале не было чекпоинтов внутри уровня – смерть означала рестарт уровня. Мы, возможно, добавим **контрольные точки** на длинных уровнях. Например, в середине большая американская флаг-игла (в нашем случае – флаг свободы, условно), активировав её, если команда погибнет, начнут оттуда с базовым героем. Чекпоинт также может восстановить часть разрушенного (но это сложно, скорее нет). Можно ограничиться тем, что если на уровне \> X заложников, то каждый Y спасённый \= чекпоинт (подход *Wolfenstein*). В любом случае, учтём, что уровни не очень длинные, и отсутствие чекпоинта – часть хардкора. **Решение:** Must – чекпоинтов нет (как оригинал), Should – добавить на самых длинных миссиях, или дать возможность вручную включить "легкий режим" с чекпоинтами. **❓Подлежит финальному решению.**

**Примеры интересных ситуаций (рецепты):** (См. также таблицу “Сетап-Пэйофф” в Level Design Bible) \- *Ситуация 1:* Игроки видят впереди длинный мост, усыпанный врагами. Сетап: снизу под мостом – пропасть, на другом конце – танк, начинающий движение к ним. Пэйофф: если просто идти – танк приедет и убьёт. Правильное решение: подорвать опоры моста (рядом видны взрывчатые бочки). Риск: если сделать рано, можно уронить мост с собой; если поздно – танк доберётся. **Пэйофф:** танк падает в пропасть, взрыв – все враги гибнут, игроки ощущают триумф. **Риск:** если просчитались, мост рухнет под игроками → смерть, или танк переедет. \- *Ситуация 2:* Комната с заложниками, окружёнными взрывчаткой. Сетап: 3 POW связаны в центре, вокруг бочки. Враги снаружи начинают стрелять. **Опции:** либо сломя голову врываться защищать – риск что враг попадёт по бочке и убьёт заложников (fail). Либо методично устранить врагов с дальним (снайпер), затем аккуратно разминировать (выстрелить по бочкам издалека, когда никого нет рядом). **Пэйофф:** спасение всех заложников. **Риск:** любая искра – миссия провалена (если цель спасти всех). Такая ситуация учит осторожности. \- *Ситуация 3:* Узкий тоннель напичкан минами-растяжками. Сзади на игроков надвигается волна врагов (или поднимающаяся лава). Игроки должны быстро, но аккуратно, пройти вперёд, прыгая через лазеры. **Пэйофф:** если действуют синхронно, прорываются, враги подрываются на оставленных минах. **Риск:** паника – взрывают себя. Это создает adrenaline moment. \- *Ситуация 4:* Секретный путь: Есть прямой маршрут – охраняемые ворота, куча врагов. Рядом неприметная шахта вниз, заваленная досками. Если её взорвать, можно обойти ворота снизу и зайти врагам в тыл. **Пэйофф:** вместо лобовой атаки получилось коварство, легкая победа над растерявшимся противником. **Риск:** можно упасть в шахту и умереть, если не распознаешь, что внизу шипы/лава.

Мы будем прорабатывать такие рецепты и внедрять в дизайн, чтобы уровни запоминались яркими моментами: *“Помнишь, как мы уронили небоскрёб на босса?\!”* – вот ради этого и делаем.

**Темп триггеров и событий:** Уровни не должны быть монотонно-рандомными. Мы внедряем *триггеры* – невидимые зоны, пересечение которых запускает событие (враг спавн, взрыв, диалог, музыка). Это нужно для *режиссуры*. Пример: игрок подошёл к зданию – триггер вызывает выход врагов из дверей, начинается напряжённая музыка. Без триггера игрок мог бы расстрелять двери заранее – но мы сделаем их неразрушаемыми до момента события, чтобы не сломали скрипт. **Секреты и триггеры:** если игрок идёт секретным путём и обходит триггер, надо всё равно запустить события (или он избежит части сложностей). Это учтём, например, duplicating triggers по альтернативным маршрутам.

**Ивенты в уровнях:** Кроме боёв, можно вставлять *курсивные ивенты*: \- *Вертолётный обстрел:* пролетает вражеский вертолёт, бомбит уровень (рандомные взрывы) – игрокам нужно укрыться. \- *Заложник берёт оружие:* иногда освобождённый POW сам становится “бро” и помогает воевать (как временный NPC). В оригинале villagers могли взять оружие после спасения. Мы можем такое сделать как приятный сюрприз. \- *Изменение цели по ходу:* например, план был “уничтожить радар”, но в середине миссии по радио (игровой текст) сообщают, что ещё нужно спасти пилота – добавляется objective. Это немного заскриптовано, но добавляет динамики.

Все эти вещи – тонко настраиваем, не злоупотребляя, чтобы не отвлекать от core fun (стрелять и взрывать). **Проверка телеметрии:** будем логировать, какие моменты вызывают массовые смерти (чтобы, возможно, облегчить), и наоборот, где игроки прорываются без напряга (можно усложнить).

**Пример структуры уровня (для иллюстрации):** \- *Уровень 5: “Подземный комплекс”* (вертикально-комбинированный). Старт: игроки входят в шахту лифта (сверху). **Секция A:** Спуск вниз \~10 блоков по платформам, тут избегаем падающих камней (внизу враги бросают гранаты вверх – падают камни). **Чекпоинт?** (если решим). **Секция B:** Горизонтальный тоннель, темнота (фонарики). Враги-алиены выпрыгивают из стен (facehuggers). Игроки ставят факелы (стреляя по лампам). В конце – дверь, которую надо взорвать. **Секция C (Alarm):** Сразу за дверью большая комната с красным светом и сиреной – включилась тревога. Волна врагов (террористы и несколько алиенов – все против игрока). Надо пережить 3 волны 5 секундных. После – появляется Bruiser как минибосс. Убив его – открывается выход. **Финал:** подняться по лестнице на поверхность, где ждёт вертолёт.

Такой уровень включает вертикаль, темноту, микс врагов, мини-босс – насыщенно. Мы перемежаем сложные уровни с попроще, чтобы кривая сложности была по возрастающей, но не строго монотонно.

В итоге, **уровни Freedom Squad** – это 10–20 тщательно сконструированных арен хаоса, каждая со своим “трюком”. Цели уровней в основном скромные (пробейся и уничтожь), но поданы интересно (через сценарные ситуации). Мы стремимся, чтобы **каждый уровень запомнился** чем-то: уникальной декорацией, гэгом, новым врагом или особой механикой. Это повысит ценность кампании и делает игру обсуждаемой.

### 9\. Метрики сложности и баланс

Баланс сложности – критичный аспект, особенно при вариативном составе героев и ко-оп режиме. Мы определяем **кривую сложности** на всю кампанию и принципы масштабирования под разное число игроков.

**Кривая сложности кампании:** стартовые уровни – простые, прощающие ошибки. Конец игры – настоящий хаос, требующий мастерства и командной работы. Промежуточная сложность растёт нелинейно (с пикирующими моментами). Ниже таблица условной сложности по уровням:

| Уровень (глава) | Новые элементы | Сложность (1–10) | Примечания |
| :---- | :---- | :---- | :---- |
| 1\. Джунгли 1 (вводный) | Базовые мобы, обучение стрельбе | 2 (очень легко) | Туториал в процессе уровня. |
| 2\. Джунгли 2 | \+Suicide мобы | 3 | Учимся справляться с камикадзе. |
| 3\. Джунгли 3 | \+Щитовики, мост с бочками | 4 | Первая проверка – обрушить мост. |
| 4\. Джунгли 4 | \+Bruiser (минибосс) | 5 | Конец главы, босс-вертолет. |
| 5\. Город 1 | Новые враги (снайперы, турели) | 4 (снижение после босса) | Начало 2 главы чуть легче, но с новыми опасностями. |
| 6\. Город 2 | \+Ракетчики, транспорт | 6 | Уровень с танком (минибосс). |
| 7\. Город 3 (ночь) | Стелс-элементы, разведчики | 6 | Сложность через необходимость скрытности. |
| 8\. Город 4 (финал) | Массовый бой, защитить VIP | 7 | Босс: Стелс-танк. |
| 9\. База 1 (подземелье) | Алиены (facehugger) | 5 | Новые враги – снова падение сложности на ввод. |
| 10\. База 2 | \+Собаки мутировавшие | 7 | Очень напряженный уровень с ловушками. |
| 11\. База 3 | Лава, таймер на уровне | 8 | Чрезвычайная ситуация – быстро бежать. |
| 12\. База 4 (финал) | Босс Alien Queen | 9 | Сложный босс, много фаз. |
| 13\. Ад 1 (финал-часть1) | Демоны (новые) | 7 | Несмотря на новый тип врагов, сложность ниже после intense queen. |
| 14\. Ад 2 (финал-часть2) | Массовый спавн миксов врагов | 9 | Перед финалом – испытание “толпа всех сразу”. |
| 15\. Финал: Последний бой | Сатана (финальный босс) | 10 (макс) | Кульминация, очень сложно, много смертей. |

*(Таблица иллюстративна; фактическое количество уровней может быть иным. Данная кривая показывает* возрастающую *сложность с некоторыми колебаниями: после боссов – небольшой спад, перед финалом – пик.)*

**Правила масштабирования под ко-оп:** Игра должна быть сложна, но не невыполнима для одного, и хаотична, но проходима для четырёх. \- *Количество врагов:* базовый принцип – **врагов спавнится больше на каждого доп. игрока**. Например, на сцене, где в соло 5 муков, в 2P будет \~8, в 4P – 12\. Не линейно, т.к. синергия игроков сильна (4 игрока \= огневая мощь \>4× одиночки, за счёт ресов и отвлечения). Поэтому скорее: 2P \= \+60% врагов, 4P \= \+150%. Точные цифры потестим. \- *Здоровье врагов:* тоже возможно масштабировать, но осторожно. Если у обычного мока HP3 в соло, в 4P дать HP5 – он переживёт 2 попадания вместо 1, что не критично. Для тяжёлых: Bruiser HP25 в соло, может 35 в 4P. Боссы как уже говорили – \+50% HP per extra player. \- *Урон врагов:* обычно оставим постоянным (пуля всегда 1HP). Но можно *уменьшать* friendly fire damage с увеличением игроков, парадоксально: в 4P friendly fire \= 100% (чтобы осторожно), а в solo это не важно. Нет, лучше оставить константой. \- *Боезапас и жизни:* в ко-оп игроки имеют совокупно больше жизней (каждый спасённый POW \= \+1 life, и делится между ними). Если 4P, POW может ресать конкретного погибшего. Мы решим: например, если 4 игрока, то POW ресает *конкретно первого мертвого* (в порядке очереди). Так число общих “линий жизни” больше. Но врагов тоже больше. \- *Чекпоинты:* если есть, они работают одинаково, только respawn всех. \- *Общая философия:* Кооперативная игра скорее должна быть *чуть легче*, чем соло, за счёт взаимопомощи. Но хаос friendly fire компенсирует. В итоге ожидается: опыт соло игрока \= опыт команды 4p. В цифрах: 4p скоординированная команда, конечно, будет эффективнее, но на средний skill – умирать будут чаще от своих же, так что ±баланс. \- *Сложность настройки:* будет 3 режима (Easy, Normal, Hard). Normal – дефолт. Easy: снижен урон врагов, больше жизней, friendly fire отключён. Hard: наоборот: \+урон врагов, возможно меньше спасателей, Ironman режим (смены героев ограничены, или 1 жизнь на брата). **IronBro**: можно добавить отдельный хардкорный режим, где 1 жизнь \= 1 герой и если умер – этого героя больше не будет до конца кампании (в Broforce был такой). Это скорее для супер-фанов.

**Плейтест-чеклист (баланс):** Для настройки сложности мы составим список наблюдений, которые нужно проверить: \- **Вариативность героев:** убедиться, что уровень проходим любым набором героев. Если есть места, требующие конкретного (например, нужен урон по площади) – внести альтернативы (какой-то предмет, бочка). \- **Телеметрия смертей:** отметки на карте, где чаще всего гибнут игроки. Если определённое место убивает \>50% попыток – возможно, перегиб (кроме финальных). Либо ослабить врагов там, либо дать подсказку. \- **Время прохождения:** уровень должен занимать \~3-5 мин. Если \>10 мин (много смертей) у большинства – слишком сложно. Либо сократить уровень, либо уменьшить врагов. \- **Динамика**: не должно быть затишья \>30 сек без врагов – значит, возможно, игроки потерялись. Добавить индикатор куда идти (стрелку) или подогнать врагов. \- **Число перезапусков:** если средний игрок вынужден 5+ раз переигрывать уровень – frustration. Разве что финальный можно. Балансируем, чтоб 1-3 попытки на сложных местах. \- **Использование ресурсов:** смотрим, используют ли игроки спецспособности. Если нет – возможно, слишком короткий кулдаун или они забывают (UI hint добавить). \- **Friendly fire случаи:** если ко-оп команды чаще умирают от своих чем от врагов (\>50%), можем подумать снизить FF или обучить лучше. \- **Speedrun и sequence break:** проверить, не ломают ли игроки уровни, перепрыгивая ключевые части. Если часто – возможно, надо закрыть лазейки (например, невидимая стена, пока не выполнено условие).

**Телеметрия:** (см. TDD, раздел логирование) – мы будем собирать: \- Количество смертей на каждом уровне (в разбивке по причине: от врага, от FF, от падения). \- % игроков, прошедших уровень с первой попытки. \- Среднее время прохождения уровня. \- Самый популярный герой (которым закончили уровень). \- Места (координаты), где погибло \>X игроков (для heatmap). \- **Retention checkpoint:** процент игроков, бросивших игру на каждом уровне – если видим резкий отток на уровне N, значит он слишком трудный/неинтересный.

Эти метрики (см. Prod & KPI) помогут настроить патчами баланс.

**Правила скейлинга под ко-оп** более-менее понятны, но будем финально корректировать уже по результатам альфа-тестирования с группами. Наша цель – **сбалансировать на Normal так, чтобы \~70% игроков смогли пройти кампанию**, пусть и с трудом, а для оставшихся есть Easy. Hard/Ironman – для меньшинства хардкорщиков.

### 10\. Прогрессия и мета-игра

**Прогрессия персонажей и оружия:** Как и в Broforce, новые герои открываются по мере спасения заложников (POW). У нас система аналогичная: \- Каждый спасённый POW прибавляет \+1 к счётчику. На определённых значениях счётчика – разблокировка нового персонажа (и его оружия). Мы можем прямо отображать прогресс: напр. “Следующий герой через 3 спасённых”. В оригинале было скрыто (но коммуникатор говорил новую фамилию). \- Порядок открытий: сначала основные (Captain, Steel, Shadow etc.), потом более экзотические. Последние герои – самые “читерские” (типа Demolition Bro), чтобы они появились ближе к финалу. \- Если игрок пропустил POW (например, умер до его спасения) – ничего страшного: можно набрать на других уровнях. В сумме POW больше, чем нужно для всех героев (будет с запасом, чтобы не требовать 100% поиска). \- **Разблокирование оружия:** у нас оружие привязано к героям. Отдельно оружие не открывается – мы не планируем, что можно поменять оружие у героя (каждый со своим). Значит, нет отдельной прокачки оружия. *Но:* можно после прохождения добавить фичу: выбирай любого разблокированного героя на повторном прохождении. Это уже мета.

**Экономика:** Денежной валюты нет (нет магазина). *Broforce* – не про апгрейды, а про скилл. Мы придерживаемся этого, чтоб не сломать баланс. Мета-валюта – только счётчик спасённых и, может, очки за время/стиль (для лидербордов). \- **Очки (score):** возможно, введём счет (убийства \+ разрушения \+ стильные убийства). Но это чисто для рангов или ачивок, геймплей не влияет. \- **Апгрейды:** если решим добавить, то опционально. Например, *“Усилитель брони”* – редкий дроп, дающий герою \+1 выдерживаемый удар (т.е. 2 HP) на один уровень. Или *“Комбо-бонус”* – убил 10 врагов быстро, временно урон увеличился. Такие механики больше в аркадных играх. *Broforce* почти не имел – разве что firepower powerup в Expendabros (?), но не уверен. Лучше не добавлять, чтобы не усложнять. \- **Внутриигровой прогресс:** “моментум” – в некоторых играх, если хорошо играешь, получаешь буст (пример: в Blood Bros (аркада) было). Мы можем добавить: killstreak 20 \= на пару секунд неуязвимость (причина – герой вошел в раж). Это мелочь, но наградит скилл. ❓ – если успеем.

**Мета-цели (помимо кампании):** \- **Достижения (achievements):** стандартные стимовые (например, “Пройти уровень, не убив ни одного заложника”, “Уничтожить 1000 врагов” и т.п.). Они не влияют на геймплей, но продляют интерес для completionist-ов. \- **Режимы повторной игры:** после прохождения откроется режим “Выбор любого героя” – можно перепроходить миссии специально выбранной командой. Также *Arcade mode* – бесконечные жизни, но цель – набрать максимум очков, тренировка. \- **Level Editor/Workshop:** огромная мета-составляющая – если игроки делают свои уровни, контент бесконечен. В Broforce был редактор и сообщество создавало уровни, это продлило жизнь игре. У нас Editor планируется (см. Content Plan), но возможно выйдет после релиза. Когда выйдет – появятся пользовательские кампании, рейтинги, и т.д., что вносит собственную мету – соревноваться в создании/прохождении фан-уровней. \- **Leaderboard (скорости/очки):** Можно добавить таблицы лидеров для любителей: по быстрому прохождению кампании, по очкам. Это мотивирует соревноваться и улучшать результат (метагейм для хардкорных). \- **Секретные персонажи/режимы:** можно спрятать unlockables: напр, пройти игру на Hard открывает “Terminator Mode” – играть за врагов, или “Infinite ammo mode”, etc. Это больше для реиграбельности фан-сервис.

**Drop-in ко-оп и мета:** ко-оп позволяет подключаться новым игрокам. Если игрок B присоединился к хосту, который уже открыл 10 героев, то B временно “получает” доступ к этим героям (они могут ему выпасть). Но в своей кампании у B они не откроются (кроме, может, если он во время игры спас POW – это зачтется? Лучше да, пусть зачтется – прогресс должен сохраняться). Также *если игрок вышел*, его POW count мы не снижаем (не балансируем динамически в сессии).

**Потери прогресса и сейвы:** игра будет сохранять прогресс после каждого уровня (открытые герои, пройденные уровни). Игрок может переигрывать уже пройденные уровни в меню выбора миссии (снова спасать заложников там, но чтобы не фармили бесконечно, сделать так: POW спасённые повторно не учитываются). Однако, возможно разрешим фарм, раз уж сингл – но тогда откроют всех героев на первых миссиях и сломают баланс задуманных постепенных сюрпризов. Поэтому **повторное спасение POW не увеличивает глобальный счётчик** (или увеличивает только если еще не получен max). В коопе – POW count привязан к хосту или к каждому? Лучше каждому треку – если один хост прошёл, у него все герои, друзья могут у себя еще не открыть. В общем, это технические детали сохранений – решим: **прогресс привязан к профилю игрока**, и в кооп он не смешивается, просто каждый у себя сохраняет.

**Дополнительная мета:** \- **IronBro/Hardcore:** для longevity – отдельная опция пройти всю игру с фиксированным набором (каждый персонаж 1 жизнь). Это чисто для челленджа и Steam ачивки. \- **Персонализация:** не влияя на геймплей, может быть сбор/открытие скинов. Например, открылись все герои – теперь можно находить “костюмы” (тот же спрайт, но другой цвет/прикид). Это чисто косметика для фана (в Broforce этого не было, но мы можем расширить). Возможно, не первостепенно, но DLC could. \- **Коллекционирование:** например, разбросаны по уровням буквы “BRO” – собери все на уровне – получи звездочку. Это давняя аркадная штука. Если хотим life span, можем добавить. Но careful – заставлять искать в перестрелочной игре – двояко. \- **Доп. режимы:** Survival/horde (уже упомянул), Deathmatch (PvP) – Broforce имел локальный PvP. Мы тоже можем (Part III might mention under Multiplayer). Это не мета, но дополнительный контент.

Подытоживая, **мета-игра Freedom Squad** базируется на коллекционировании героев и перепрохождении ради челленджа. Мы не вводим классической RPG-прокачки (урон, навыки) – все герои с начала до конца имеют постоянные параметры, поэтому skill \> grind. Это важно сохранить, чтобы игра ощущалась честной аркадой.

### 11\. UX/UI

Удобство восприятия хаоса – приоритет. Мы спроектируем интерфейс минималистичным, но информативным.

**HUD (Heads-up Display):** \- В верхней части экрана отображаются *жизни* (иконки героев или число). Например, значки текущих запасных “бро” или просто цифра Lives: X (на игрока). В ко-опе – для каждого игрока свой показатель (можно в углах с цветовой привязкой). \- *Иконка текущего героя:* портрет или имя, чтобы знали, кем играют (особенно при случайной смене). В Broforce имя героя всплывало при смене на секунду. Мы тоже сделаем: “Now Playing As: Sgt. Steel” текст. А постоянно можно иконку лица в углу. \- *Здоровье:* обычно у героя 1HP, поэтому индикатора полоски нет. Если введём временные усиления (щиток) – можно отображать пиктограммой. \- *Боезапас:* основное оружие бесконечно – не показываем патроны. Но для тех, у кого *клип* (например, револьвер 6\) – можно сделать небольшой индикатор 6 пуль, обновляющийся. Это не критично, т.к. герой либо сам озвучит перезарядку, либо мы решили не напрягать с перезарядкой (в Broforce, кстати, не было reload, стреляли бесконечно без перезарядки, кроме двухгеройных). \- *Спецатака:* если ограничено зарядов – отображать количество (например, 3 гранаты – три маленьких значка гранаты рядом с портретом). Если cooldown – небольшой круговой таймер или полоска, заполняющаяся. \- *Индикаторы взрыва/обвала:* мы сделаем visual cues: \- Красный мигающий треугольник с “\!” над бочкой, когда она вот-вот взорвётся (в оригинале у гранаты над врагами появлялся “\!”, мы расширим: если граната лежит рядом, у игрока на HUD или над гранатой “\!”). \- Стрелки по краям экрана, указывающие на опасность вне камеры (например, если сверху летит бомба – красная стрелка сверху). \- Падающие блоки: перед падением – немного пыли/трещин, звук, и опять “\!” над блоком. \- *Уведомления:* \- Когда разблокирован новый герой – всплывает небольшой баннер: “Unlocked: Doc Boom\!”. \- При достижении чекпоинта – значок (флаг). \- При дружеском огне – можно не уведомлять, игрок и так поймет (но, напр., цветом death message “Player 2 killed Player 1” – если будет kill log). \- *Kill log:* может не нужен, но иногда смешно: можно маленьким текстом где\-то: “X was blasted by Y's rocket.”, “Z fell to death.” Это больше для ко-оп юмора. Может сделать опциональным.

**Экраны меню:** \- *Главное меню:* пиксельный арт с логотипом (пародийным). Кнопки: Play, Online, Settings, Editor, Credits. \- *Ко-оп matchmaker:* \- *Локальный:* просто нажать Start на геймпаде для join (появляется Player2 etc). \- *Онлайн:* браузер лобби (список игр с названиями и ping). Или "Invite Friend" через Steam. \- *Lobby:* список игроков, выбор режима. Хост может выбрать уровень (если у кого-то не пройден, предупреждение). \- *Выбор уровня:* после прохождения кампании, откроем меню “Mission select” (краткая карта, выбирай уровень). Для первого прохождения – линейно. \- *Выбор персонажа:* не по ходу кампании, но, скажем, в режиме Arcade можно включить. Интерфейс: листаешь портреты открытых героев, жмешь старт – начинаешь за него. (В Random mode – просто Start). \- *Настройки:* Remap controls (поддержим полное переназначение, включая геймпад – ✅), Volume sliders, Screen shake intensity, Language, и *цветовая палитра* (Colorblind mode – меняет цвет враг/ally overlays). \- *HUD читабельность:* \- Взрывы: добавим полупрозрачный белый флэш с быстрым затуханием (как эффект), но ограничим, чтобы не ослепляло – intensity scale via settings. \- Кровь: много пиксельной крови. Можно опция “Low gore” – отключает кровь, оставляя просто пиксели (для рейтинга или стримеров). \- Дрожание камеры: moderate by default, adjustable. \- Отдача камеры: при больших взрывах камера чуть отодвигается – это Cinematic, но может укачивать, ограничим magnitude.

**Обозначения игроков:** В ко-опе персонажи могут быть одинаковыми (если случайно выпали одинаковые bros). Чтобы не путать: \- Цветные стрелки над головами (P1=синий, P2=красный и т.д.). \- Или мигающий ник/номер. \- В Broforce кажется был цветной кружок под ногами, но не помню. Мы можем добавить subtle glow. \- Когда много эффектов, легко потерять себя: \- Можно добавить кнопку “Focus” – например, нажми “LB”, над твоим героем временно появится большая стрелка “YOU” или он мигнет. \- Или slow-mo (но slow-mo уже занят у Time Bro). \- Скажем, LB(L1) свободна (мы на RB таунт дали), можно LB для quick highlight.

**UI цветовой код:** \- Враги: красные маркеры “\!”. \- Игроки: синие/зелёные индикаторы. \- Взрывы: оранжевые и красные предупреждения. \- Снаряды врагов: красные следы (трассеры), игрока – белые/желтые. \- Лазеры мин: красные (можно для colorblind dashes). \- Healthbars (если бы были) врага – красные, союз – зелёные. Но healthbars только у боссов, тогда можно сделать босс HP bar сверху экрана, красный. \- Флаги/цели: например, цель-эвак – маркер зеленый “EXIT” или стрелка.

**Диалоги/туториал:** \- Стационарный UI (текст) минимален. Будут всплывающие подсказки: “Press \[Jump\] to climb” в начале. Стараемся объяснять в действии (первый POW легко – запомни, как он выглядит; первый щитовик – hint “Melee to break shield\!”). \- Озвучка: может быть “HQ voice” – как генерал даёт инструкции – через текст на фоне. \- Все обучение – короткие всплывающие иконки+текст, убирающиеся через 2-3 сек или по действию игрока.

**Предупреждения:** \- Если уровень проигран (все жизни потеряны): экран “Mission Failed” (как original, могли написать “FAIL”). Мы сделаем либо серьезно, либо с юмором (“Bros Fallen\!”). \- Перед выходом из игры – confirm (с прогресс сохранён?). \- Перед удалением сохранения – confirm.

**Звуковые подсказки UI:** \- Звук при мало жизни (но у нас 1 жизнь \= уже dead, так что нет). \- Звук countdown – если таймер 10 сек, тикает. \- Voice announcer: iconic *Broforce* имел Announcer yelling names. У нас можем (например, при respawn “Captain Carnage Engaged\!” громко). \- Multi-kill sounds: можно Quiet, чтобы не как Unreal, но, скажем, если \>5 убил взрывом – толпа “Ooh rah\!” или “Mega Kill” 16-bit voice. Не переборщить, но веселья добавляет.

Наконец, **UI адаптация к платформам:** на PC – mouse navigable menus, on consoles – gamepad nav. Font – пиксельный, крупный, с обводкой, чтобы читался на любом фоне (Subtitles – белый текст с черным контуром).

В итоге UX/UI оформляется в ретро-стиле (пиксель шрифты, возможно, scanlines эффект), но с современными удобствами (remapping, alerts). Мы уделим внимание, чтобы интерфейс **не перегружал экран**: игроки должны в первую очередь видеть игровой мир, а UI – второстепенно. Поскольку *смерти быстрые*, UI не нужен для отслеживания здоровья, а лишь информирует о ресурсах и целях. Внешний вид UI будет соответствовать тональности: например, рамка статусных элементов – как армейский прибор (зелёный монитор) или, наоборот, как комиксные пузырьки (подчёркивая пародийность). Это детализация для Art, но главное – функциональность, читаемость в любые моменты.

### 12\. Контент-план

**Объём кампании:** \- **Количество уровней:** планируем \~15 основных миссий (5 глав по \~3 уровня), плюс 5 бонусных (Expendabros-style?). В сумме \~20. Минимальный MVP – 10 уровней (по 2 на главу) Must, оптимально 15-20 Should, Could – добавить DLC/апдейтом ещё 5\. \- **Количество биомов:** Must 3 (джунгли, город, база), Should 4 (плюс ад/особый финал), Could 5 (например, добавить снежные горы). \- **Персонажи (игровые):** Must 8, Should 15, Could 20+. \- **Враги:** Must 10 типов, Should 15+, Could 20 (с подсчетом вариаций, включая боссов). \- **Боссы:** Must 3 (включая финального), Should 5 (на каждую главу), Could 6-7 (доп. секретные). \- **Оружие уникальное:** столько же, сколько персонажей (каждый со своим). \+ 2-3 общих предмета (миномет стац., турель). \- **Пропсы (предметы окружения):** Must: бочки взрывчатые, ящики, платформы, шипы, лифты. Should: мины, лазеры, транспорт (джипы, которые можно взорвать), животные (в джунглях куры, можно убить – пасхалка). Could: нейтральные NPC (кричащие жители). \- **Интерактивы:** Must: лианы/веревки (лазить), Should: зиплайн (скатиться), Could: лодки/машины (сесть и проехать коротко). \- **Музыкальные треки:** Must 5 (тема главная, \+4 фоновых разной интенсивности), Should \>10 (каждая глава свой трек, плюс боевые фазовые), Could – динамическая (слои). Audio Brief ниже.

**Приоритеты ассетов (Must/Should/Could):**

Мы создадим таблицы приоритизации для всех компонентов: \- *Персонажи:* Must – ключевые 8 (Commando, Heavy, Ninja, Shooter, Duo, Scientist, Girl, ???), Should – ещё 7-10 (включая cameo типо Bro Lee, Bro Max аналог), Could – бонусы (секретные или DLC). \- *Враги:* Must – базовые (стрелок, suicider, bruiser, turret, etc.), Should – дополнительные (sniper, dogs, aliens), Could – демоны, mutants (если хватит времени). \- *Уровни:* Must – закончить 1 кампанию (джунгли-город-финал) играбельно (MVP), Should – полный сюжет 4 главы, Could – добавочные миссии/режимы. \- *Анимации:* Must – базовые движения для всех, Should – уникальные для крутых героев (например, у Bro Lee цепочка ударов), Could – дополнительные позы (taunts, idle style). \- *Эффекты VFX:* Must – взрывы, выстрелы, кровь, Should – дым, искры, Could – погодные (дождь, туман). \- *Звук:* Must – выстрелы, взрывы, death screams, Should – voice announce, grunt voices for characters (каждый герой фразочку при выходе), Could – full OST dynamic layering.

**Таблица ассетов (пример выжимки):**

| Категория | Must have (MVP) | Should have (Release) | Could have (Post-launch) |
| :---- | :---- | :---- | :---- |
| **Levels (count)** | 10 уровней (2 биома) | 15–20 уровней (4–5 биомов) | \+5 бонусных (новые биомы или remix) |
| **Playable Bros** | 8 героев | \~15 героев | 20+ (DLC или секретные) |
| **Enemies** | \~10 типов (мобы, 1 тяж, 1 бос) | \~15+ типов (все главы, 4 босса) | \>20 (новые враги, boss rush) |
| **Tilesets/Biomes** | 2 (Jungle, Tech-base) | 4 (Jungle, City, Base, Alien, \+Hell small) | 5+ (Arctic, Desert, etc.) |
| **Weapons** | 8 (по героям) | 15 (по героям) | 20 (по героям) |
| **Props** | Бочка, ящик, мина, турель | \+машина, мост, лифт, двери, шипы | \+лодка, вертолёт (объект), декор персонажи |
| **FX (sprites)** | Взрыв, кровь, пуля, дым | \+огонь, искры, дебрис | \+погодные, спецэффекты (магия?) |
| **Music tracks** | 2 (меню \+ 1 боевая тема) | 5–7 (меню, 4 главы, boss) | 10+ (по каждой главе уникальнее, alt tracks) |
| **SFX** | \~50 (выстрелы, взрывы, death) | \~100 (уник. для разн оружий/врагов) | \>150 (доп. вариации, voice lines) |
| **UI elements** | Логотип, базовые кнопки, HUD | Полный интерфейс (иконки всех героев, локализация текстов) | \+скины HUD (ретро filter etc.) |

*(Замечание: локализация – UI должен поддержать как минимум EFIGS, возможно русский, китайский – но это продумать в Prod plan).*

**Контент-план по спринтам:** (Будет в продакшн разделе roadmap). Например: \- Pre-production: прототипы разрушения, 2 героя, 1 уровень (проверка core). \- Production Stage1: Сделать все героев Must, все враги Must, 5 уровней Must – собрать вертикальный срез. \- Stage2: Добавить оставшиеся контент Should, уровни, баланс. \- Полировка: FX, доп контент Could, оптимизация.

**Приоритеты:** \- *Gameplay over content:* лучше выпустить меньше уровней, но polished, чем много сырых. Так что Must – именно core levels, core chars. Additional content – можно бесплатно добавлять (как Broforce Forever). \- *Riskiest items first:* разрушаемость (done in prototype), netcode (done early), then content pipeline.

**Сценарий post-launch (DLC):** Можно запланировать расширения: напр. *“Freedom Squad: Space Invasion”* – 5 новых уровней на Луне, 3 героя (пародии на space marines). Это мотивирует на Could haves (if success).

В итоге, таблица показывает обязательный объем для запуска – он достижим за наш timeframe (см. Prod) с небольшим запасом. Should – то, что стремимся включить, Could – резерв, часть можно отложить или использовать как бесплатный маркетинг-контент (Devolver style).

### 13\. Мультиплеер

**Сетевые режимы:** Freedom Squad поддерживает: \- *Локальный ко-оп:* 2–4 игрока на одном ПК/консоли (сплит-скрина нет, все на одном). \- *Онлайн ко-оп:* 2–4 игрока через интернет, любая комбинация (например, двое на одном ПК \+ ещё двое удалённых – если поддержать Remote Play Together, но лучше классический net). \- *Онлайн PvP:* (опционально) Deathmatch, но это вне основной игры (если будет, режим отдельный). \- *Cross-platform:* если Unity, можно сделать PC \+ consoles cross-play, но надо продумать. Возможно ограничимся Steam with Steam, consoles separate (на этапе MVP не критично, Could – cross-play patch).

**Сетевая модель:** \- *Архитектура:* **Peer-to-peer с одним хостом**. Один игрок создаёт лобби (его машина \= “сервер”), остальные подключаются клиентами. Хост исполняет все важные симуляции (особенно разрушения) и диктует состояние. \- Это похоже на *listen server* / *чертеж репликаций.* \- Альтернатива – dedicated server: нецелесообразно для 4p co-op, лишние затраты. P2P позволит играть даже при отсутствии official servers (через Steam/NAT). \- *Tickrate:* определим \~30 Hz сетевую отправку. В 2D-игре 60fps желательны, но 30Hz обновление может хватить с интерполяцией. Если Unity Netcode, он by default 50\. Мы можем 60 updates, но if performance fine. \- *Данные репликации:* \- Позиции игроков – передаются часто (каждый tick), можно сжать (2 bytes x,y velocity). \- Входы – можно реализовать lockstep: т.е. все клиенты присылают input, хост эмулирует. Но с разрушениями и non-deterministic physics (Unity physics 2D) – lockstep рискован (разные float rounding). Лучше *state sync.* \- *State sync:* Хост вычисляет всё (physics, collisions), отправляет результаты: позиции объектов, уничтоженные тайлы, спавн/смерть врагов. Клиенты просто отображают. \- *Network events:* \- **Действия игрока:** нажатия (стрельба, прыжок) – или сразу пересылать, или лучше пересылать "команды": ex: FireWeapon (с параметрами) – Host принимает, выполняет (spawn bullet, apply recoil), рассылает результат (bullet trajectories). \- **Разрушение тайла:** единственный authoritative source – Host. Он, при взрыве, вычисляет какие тайлы удалены, формирует пакет (например, "Remove tiles: list of coords"). Клиенты у себя удаляют эти тайлы из карты. \- **Враг AI:** полностью у хоста (FSM ticks), клиенты получают только события: враг переместился (можно периодически синк pos), враг начал стрелять (spawn bullet), враг умер. \- **Снаряды:** можно не синкать каждую позицию пули (слишком много), лучше: host при выстреле посылает "spawn bullet at (x,y) with velocity (vx,vy)". Клиенты спавнят у себя и *симулируют баллистику сами* локально. Если determinism \+ no random, они совпадут. Если slight dif, можно не критично, т.к. bullet ephemeral. \- **Hit detection:** tricky: если клиент на своей стороне видит, что попал, но host на микросекунду рассинх – authoritative is host. Надо, чтобы host определял hits. \- Ex: Player bullet vs enemy: Host runs bullet simulation (on its side bullet moves, collides enemy). На клиенте bullet может чуть иначе (lag), но client outcome игнор, host outcome law. Host при попадании отправляет "Enemy X hit by bullet Y, HP= newHP / dead". \- For immediate feel, client also detect hit and maybe show spark, but final kill only by host confirm (to avoid duplicate kills). \- **Lag compensation:** For hitscan (if any), we might implement slight lag compensation (like if client shot target where they saw, and at host target moved, can consider adjusting for ping, but for co-op not mandatory). \- *Interpolation/smoothing:* \- Players: each client might receive others' positions at 30Hz. To render at 60fps, we use interpolation (store last 2 updates, lerp). If lost packet or jitter, maybe minor prediction (like assume constant velocity). \- Enemies: similar approach. They move deterministically though simpler patterns, can also interp. \- Projectiles: as above, ideally simulate same speed on all, small differences won't break game as it's coop. \- *Desync handling:* \- If a tile that is destroyed on host wasn't removed on client (packet drop), we implement state check: e.g. every few seconds host sends hash of tilemap region or explicit "tile count / checksums". If mismatch, client can request correction or host can send diff. \- Similarly, enemy states – keep them relatively in sync via frequent updates. \- *Bandwidth considerations:* 4 players co-op is not heavy. Possibly \< 5KB/s per client. \- *Peer connectivity:* rely on Steamworks P2P or use Unity Relay if needed (but prefer Steam P2P for PC, consoles have own). \- *Host migration:* If host disconnects mid-game: ideally, pick a remaining player to become new host. But implementing host migration is complex (transfer game state). Possibly at MVP we keep it simple: if host quits, session ends (players lose progress of current level). Perhaps auto-save mid-level progress not needed, just restart level with new host if they want. Mark as ❌ for now to not delay dev.

**Drop-in/drop-out:** \- *Drop-in:* allow at any time mid-level a friend to join. Implementation: new player connects, host sends full state (tilemap, enemies, players states). Then spawns new player at last checkpoint or at starting point with warp. We need to ensure that transferring state mid-simulation stable. Possibly easier to only allow join between levels (in lobby). \- But user story: friend hopped online, want to join mid-level. Could, but risk dynamic state sync needed. \- If do: host triggers "pause" or slow-mo, sends snapshot (tile array, each enemy stats, players). New client loads, then unpause. It's doable, network overhead moderate (tilemap say 100x100 \=10k cells, quick compress). Could degrade experience if often. We'll mark drop-in mid-level as *Should*, if time (since original Broforce allowed join mid mission iirc). If no time, require join in lobby (start of level).

**Реконнект:** if player lost connection, can rejoin as drop-in. \- Might require letting them take control of their character if still alive (or otherwise join as new life). If their char had died while off, oh well. \- Keep it minimal, but at least allow if short DC.

**Обработка рассинхрона разрушений:** \- The most critical sync: tile destruction. We implement reliable events for tile removal: e.g. for each explosion, host sends exactly which coordinates removed (or an id range if map segmented). Mark message reliable to ensure arrival. If lost or out-of-order, can cause weirdness like phantom blocks. For extra measure, at certain triggers (like after heavy destruction) do a snapshot or ask clients to confirm receipt (ack). \- Telemetry/traces in dev to see if any mismatch. \- Possibly simpler: do not attempt to simulate physics of falling blocks on clients at all; instead, if a chunk falls, host calculates final positions and just teleports or removes them. That might appear slightly jittery but ensures same outcome.

**Модель репликации:** Summarizing: \- *Authoritative host*, event-driven updates to clients. \- *Physics:* Only host does physics (like ragdoll trajectories, etc). On clients, we can simulate for cosmetic or just accept updates from host (like enemy ragdoll positions rarely needed precisely). \- Because heavy physics (like explosion sending pieces) might be unpredictable, safer: spawn giblets only on host and send generic events to clients (like "big explosion at X yields debris" – clients spawn debris with random local simulation not needing sync because cosmetic). \- So interactive physics objects (like barrels moving) – either avoid sync or treat as static until explosion triggers them (then remove or treat as debris not matter in gameplay).

**Частота обновления и задержки:** \- If ping \~100ms, 0.1s delay in movement might be noticeable if each input goes to host and back. Perhaps do client-side prediction for local player: when I press jump, I see my jump immediately and send to host concurrently. If host denies (shouldn't as it's coop, rarely conflict), adjust. \- For other players, small delay is fine (100ms offset not big on screen). \- Shots: local player sees themselves shooting instantly; remote might see a slight delay for other shooting. Not critical. \- If highly synchronous event needed (like timed co-op switch?), design to allow tolerance.

**Lag spikes:** If one player lags, might cause hitch in P2P. \- Possibly implement host authority where a lagging client either experiences slow mo or even gets dropped if too slow, but others continue. \- We'll incorporate typical smoothing (maybe drop updates if behind, or lower quality visuals if needed).

**DDoS/Hacking prevention:** P2P – players see each other's IP potentially (Steam hides via relays though). We'll rely on Steam relay to avoid direct IP. \- Cheating in coop – not big issue unless someone spawns unlimited lives (could annoy others). Possibly add minimal validation (like clients cannot spawn bombs arbitrarily, host only). \- Provide host ability to kick misbehaving player (UI for kick). \- If do PvP, cheat prevention bigger, but coop less priority.

In summary, given timeline, we focus on coop working robustly. We'll heavily test 4p scenarios with high destruction to ensure sync stable. Possibly incorporate *rollback or catch-up* for key events if needed.

### 14\. Доступность

Мы хотим, чтобы игра была доступна максимально широкой аудитории, учитывая особенности восприятия и физические ограничения. Опции доступности:

* **Настройка управления:** ✅ Полный ремап клавиш/кнопок. Поддержка альтернативных устройств (например, D-pad vs analog customization; allow single-stick aiming by auto-fire maybe for some players?).

* **Цветовые режимы:** Игра имеет высококонтрастный пиксель-арт, но:

* Colorblind modes: например, враги обозначены не только красным, но и иконкой “☠”. Friendly players arrow uses shapes (triangle, square, etc.) in addition to color.

* Option to adjust overall color saturation/contrast if some find certain backgrounds blending (maybe lighten backgrounds relative to characters by slider).

* **Уровни сложности:**

* Easy (помощь при падении с экрана, friendly fire off, враги слабее).

* Normal (default).

* Hard (for challenge).

* Possibly a *Custom difficulty* slider: e.g. 0.5x enemy damage to 2x (though rarely needed).

* **Assistance for off-screen players:**

* *Bubble Teleport:* Option: if a player is dragged off-screen in co-op (further than X distance from group), вместо смерти, он появляется в пузыре рядом с друзьями (как в Mario). This can be Easy mode feature.

* Or an accessibility toggle "No offscreen death".

* **Forgiveness of falls:**

* In standard, fall into pit \= death. Accessibility option: add invisible floor that bounces player back with some HP penalty or at least place them last safe spot (like platformers that teleport you back losing life).

* Possibly an Easy mode approach: "Pit rescue: On" – the helicopter swoops and saves you, costing a life but not ending it abruptly.

* **Game Speed:** Some players might benefit from slower game (reaction issues). Possibly a "Slow Mode" toggle for single-player where everything runs at e.g. 80% speed. That can break intended chaos, but as assist it’s fine. Could be cheat after losing a lot, or an explicit menu toggles “reduced game speed”.

* **Visual cues vs audio:**

* Provide on-screen captions for important audio (like if a subtle sound warns of boss, give a visual text "growl" or icon).

* Indicate direction of sounds: we do arrow for off-screen as said.

* **Screen shake & flash reduction:** Already considered – slider for shake intensity, option to disable flash or reduce brightness (to help epileptic or sensitive).

* **Reminders:** If a player seems stuck (long time not progressing or repeating fail), a hint appears "Try using melee on shields\!" or allow them to skip level on repeated failure (as some games do after X game overs, offer skip or lower difficulty).

* **Subtitles:** Although not story heavy, any voice lines (like final cutscene with President etc) should have subtitles for hearing impaired.

* **Co-op match filtering:** Not accessibility but quality-of-life: allow region filter for net to reduce ping.

* **One-handed mode:** Hard for such game, but perhaps allow moving all controls to one side of keyboard or allow gamepad remap to single hand (like all essential on left side).

* **Contrast and UI scale:**

* Provide high-contrast mode where backgrounds are dimmed more, characters have outline.

* UI scale slider for those who sit far or have vision issues (especially text in menus).

* **Tutorial and guidance:** Provide clear tutorial that can be accessed any time (like help screen summarizing controls).

* **Infinite continues (if required):** Already somewhat present via lives. Possibly allow players with difficulty to disable limited lives entirely (just respawn infinite at checkpoint) \- an “Assist mode”.

In implementing, ensure none of these break game for others (mostly client-side toggles).

**Вывод:** Accessibility features ensure more players can enjoy: We will incorporate as many of the above as feasible. At minimum: remappable controls, difficulty options, colorblind safe design, visual toggles (shake/flash), and forgiving mode (easy). This ensures our game is considerate of various needs beyond typical hardcore audience.

---

*(Note: Accessibility is often underrated in retro-style games; by including these, we not only widen audience but also align with modern standards and possible platform requirements (some consoles now require basic accessibility compliance).)*

## Часть III — TDD (Technical Design Document)

**Движок и рендер:** Игра разрабатывается на движке Unity (версия 2021 LTS), с использованием 2D-режима. Графика 2D (пиксельные спрайты) в ортографической камере (Pix per unit настроены, чтобы 1 тайл=1 unity unit). Рендеринг через URP (Universal Render Pipeline) в режиме Pixel Perfect (для чёткости). Возможно использование 2.5D-элементов (например, частицы могут быть 3D), но в целом мир – tilemap на плоскости X-Y. Проект структурирован по модулям: \- *Core (геймплей)*: скрипты управления игроком, стрельбы, враги, физика разрушения. \- *Engine (система)*: менеджер состояний, сцены, сохранения. \- *Netcode:* сетевые обёртки и синхронизация. \- *Art/FX:* ассеты, настройки анимаций, VFX. \- *UI:* интерфейсные экраны, HUD. Сборка идёт под Windows, потом под консоли (Switch/PS4/PS5/Xbox \- Unity позволяет, учтём performance). **2D/2.5D:** Unity позволяет SpriteRenderer \+ 2D Colliders. Мы применяем CompositeCollider2D для цельных поверхностей (генерируется из tilemap) и Rigidbody2D для подвижных объектов. Оптимизации: отключён Pixel Perfect если слишком грузит (можно), но скорее оставим – target 60 FPS even on Switch.

**Система вокселей/тайлов:** Уровни хранятся как Tilemap (Grid) в Unity. Каждый тайл – определённый материал (см. GDD Физика: грунт, камень, сталь...). Реализация: \- В редакторе дизайнер рисует уровень из блоков через Tile Palette (или использует Tiled-\>import). \- Во время игры, TilemapCollider2D генерирует colliders. *Разрушение:* при удалении тайла, мы обновляем коллайдер (Unity 2D supports runtime tile changes). \- **Данные тайла:** Для различия свойств (HP, падение) мы делаем ScriptableObject “TileType” с полями (MaterialType, HP, fallsWhenUnsupported bool, etc.). Tile assets в Unity могут хранить custom data (via TileBase), или проще – использовать tilemap naming conventions: e.g. tile with tag “Stone” \-\> data lookup. Мы реализуем: \- Each tile asset has an enum material tag (set in editor via custom property or separate map). \- At level load, we create a 2D array for tile HP (initial HP by type). \- Also a separate boolean grid "falling block" if tile type is falling and not supported beneath. \- **Коллизия:** Use PolygonCollider2D (via composite) for static environment – yields efficient combined colliders. \- **Освещение:** URP 2D lighting allows normal maps for sprites. We can set global ambient low in caves and have point lights e.g. muzzle flash as 2D lights. Performance-wise, careful on Switch but small lights fine. Could fallback to simple additive sprite overlays if needed (option for older hardware). \- **Обновление tilemap:** Removing many tiles at once is heavy if composite. Possibly mitigate by chunking: tilemap can be segmented by regions, or disabled composite (but then many colliders). Alternatively, when explosion occurs: \- Remove affected tiles (like 5x5 area). \- Unity will recalc collider only for changed cells. That should be acceptable if changes moderate. If performance issues, consider custom collision (like storing grid and raycasting manually for bullets, but likely not needed). \- **Падающие блоки (physics chunks):** When we determine a portion of tiles is unsupported and should fall: \- We could detach them from tilemap and turn into a dynamic object. Approaches: 1\. Construct a GameObject with tile sprite(s) and Rigidbody2D for that chunk, remove those from tilemap. Then apply gravity and collisions. Once landed or destroyed, either place as debris (could just destroy). 2\. Alternatively, cheat: treat falling block as single rigidbody with a pre-baked sprite (like 2x2 block). \- Implementation: e.g. temple big blocks 2x2 – we design them as separate object prefabs with rigidbody and collider, placed initially as static until triggered. \- For any arbitrary shape collapse (like large portion of level falling): out of scope to simulate entire structure as one rigidbody realistically (would be massive). \- So we specify which tiles are fall-able. E.g., in temple level, mark specific ones. They check support: if air underneath and timer triggered, they drop. \- Simplify: For falling block check, run scan either continuously or triggered by destruction: \- If tile is flagged “GravityAffected” and below it nothing, schedule it to fall. \- Once falling: instantiate separate physics object with same sprite (tile to sprite or maybe break into pieces). \- Remove tile from tilemap so no double colliders. \- **"Ground doesn't collapse by running":** We ensure player's weight doesn't cause removal. So no logic tied to player on tile, only explicit triggers (explosions, etc). \- **Support for Indestructible:** Mark those tiles as not removable and treat as supporting base always (so e.g. Indestructible steel never falls). \- **Lighting in tilemap:** URP allows 2D normal maps per tile. Possibly time heavy to make normal maps. Alternatively, simplistic: global light and maybe flicker. Could be done as polish if time.

**Networking stack & world serialization:** \- Using Unity Netcode for GameObjects (NGO) or Photon (maybe NGO since no cost P2P). For PC, Steam P2P with NGO might require small integration. \- We'll define network messages for events like: \- TileUpdate (tile removed at x,y) \- ActorSpawn (enemy spawn with id) \- ActorState (position, animation state) \- ProjectileSpawn \- etc. \- We keep world authoritative on host. If new client joins, we need to send entire state: \- We'll have function SerializeWorldState(): iterate all active enemies (their type, pos, HP), all players (pos, character), tilemap (we can compress: maybe send only difference from original level since we know initial from map file). \- Might compress tile changes rather than whole map (like list of destroyed tile coords). \- NGO has snapshot system but likely easier to custom for tilemap as it's large grid. \- If handle mid-join, possibly freeze or allow during play if safe. If drop-in disabled mid-level, simpler – only do at level start (then we know baseline state is initial with minimal differences). \- Savegame: store unlocked characters, current level, maybe best times. Format likely JSON or PlayerPrefs for small data. \- Logging: We might have cheat/training mode enabling developer to output world state dumps to debug any sync.

**Производительность:** \- **Целевые FPS:** 60 fps on PC (mid-range), stable 30 fps on Switch (less powerful). Ideally 60 on consoles too where possible (PS, XB). \- **Bottlenecks:** Potential are: \- Physics when huge explosions affecting many colliders (destroying 100 tiles at once). \- Rendering many particles (blood, debris). \- CPU AI if too many (but normally dozens, not hundreds). \- Network overhead if not optimized (should be fine small game). \- **Optimization strategies:** \- Limit persistent physics objects: e.g. corpses can be turned to simple gibs or removed after a few seconds (no infinite ragdolls piling). \- Use object pooling for bullets, blood splats etc. (avoid GC spikes). \- Pre-bake tile destruction: If consistent explosion sizes, maybe have precomputed tile damage patterns? Possibly not needed. \- Culling: Much on screen anyway, but if large levels, anything off-screen (like enemies in inactive area) can be disabled or not spawned until near (spawn triggers). \- LOD for particles: on weaker hardware, reduce number of particles per explosion by config quality. \- **LOD for environment:** Pixel art, no LOD needed in mesh sense, but could degrade some effect resolution for performance if needed (like turning off dynamic lights on Switch). \- **Profiling:** We'll use Unity Profiler to track CPU usage in intense scenes. Also test on target devkits if possible to ensure memory within (likely \< 1 GB usage, tilemaps and textures are small). \- **Memory:** Pixel art will likely be low mem (maybe 100MB of textures at most), safe for consoles. Use Addressables if needed for splitting (not likely needed). \- **Frame budget** (PC): aim \~16ms: \- Physics \~2ms, \- Rendering \~6ms, \- Scripts/AI \~3ms, \- others margin. \- On older PCs or high resolution, main cost might be fill rate if many overdraw effects (explosions alpha). We can allow toggling lower resolution effects.

**LOD (Level of Detail):** In 2D not typical. But: \- Use different explosion particle counts based on setting (Quality setting Low vs High). \- Possibly skip some background layers on low spec to reduce overdraw.

**CI/CD Pipeline:** \- Use Git (or PlasticSCM with Unity plugin) for version control. \- Setup CI (Continuous Integration) with e.g. GitHub Actions or local Jenkins to auto-build nightly for test. \- Create unit tests for critical functions (like explosion radius formula). \- Setup automated integration test: maybe use Unity Test Framework to simulate a level (spawn some objects, run frames, ensure no errors). \- If using Cloud Build (Unity Cloud Build) for multi-platform continuous output. \- On each commit to main, build dev version for QA (with debug logs). \- Also maintain stable branch for release.

**Automated tests:** \- *Unit tests:* e.g. TestDamageCalculation: spawn dummy enemy, apply explosion at certain distance, verify HP reduced as expected (using known formula). \- *Integration tests:* might run headless or with graphics off. Possibly simulate input sequences and ensure level completes or performance metrics. \- *Regression tests:* every time we fix a bug, add a test if possible (like if tile removal had bug at boundary, test that scenario). \- *Physics determinism test:* run same explosion twice ensure same result (some randomness in Unity physics might need controlling via set random seeds). \- Possibly limit physics RNG or colliders. (For network, we might sync no random or seed sharing).

**Data formats (balancing data):** \- Use ScriptableObjects for things like: \- Weapon stats (damage, fire rate, etc). \- Enemy stats (HP, speed). \- Possibly tile material definitions (HP, resistances). This way, designers can tweak in Unity Editor inspector easily, even during play (with cheat to adjust). \- Could also load CSV for bulk (ex: table of enemy wave spawn timings). But likely not needed if we do via Unity events/triggers in scenes. \- For quick iteration, could have e.g. a Google Sheets for balancing and a small script to export to CSV/JSON, then import to Unity to fill ScriptableObjects. If team comfortable, can just do inside editor. \- We ensure these values are not hard-coded in code, but data-driven (so adjusting doesn't require code compile). \- Possibly implement a console command or debug UI to tweak live for test (like a slider for enemy HP multiplier).

**Designer tools:** \- Unity’s Tilemap Editor for level geometry – we will create tile palettes for each biome with appropriate colliders and have painting rules if needed (maybe use RuleTiles for auto edges, etc). \- Custom Editor windows: \- *Level event editor:* e.g., place a GameObject "TriggerZone" with script to set its events (like spawn enemies, start boss, etc). Provide inspector UI to easily assign what spawns or which doors open. Possibly like timeline of triggers per level. \- *Enemy wave editor:* For defense levels, allow to specify sequences (time, enemy type, spawnpoint). \- *Balance tables:* If designers not code-savvy, perhaps a simple EditorWindow listing all weapons and their stats, editable in a grid (though scriptable objects suffice). \- *Level Editor in-game:* Planned for players eventually. But devs likely use Unity Editor. We might consider making an in-game editor interface if releasing to players – that’s a whole feature (there was one in Broforce for community levels). Possibly skip for initial release, do in patch. \- *Testing tools:* Possibly a debug hotkey to kill all enemies, or skip to boss, for internal testing convenience.

**Logging & telemetry:** \- Include logs for critical errors or asserts (in dev builds to catch issues). \- Telemetry (if integrated with an analytics service, even just custom to log to file): \- At runtime, gather e.g. number of deaths per level, which characters used, etc (like we described in design). \- For development, we can output a summary after a playtest to log file. For release, consider uploading to an analytics server (with user consent). \- A lightweight approach: use Unity Analytics or a third-party like GameAnalytics to send events (level\_start, level\_complete, death, etc). \- We'll instrument code: \- On player death event, log cause (enemy type or environment). \- On level complete, log time and lives left. \- On boss attempt, log how many attempts needed. \- These aggregated can go into adjusting difficulty if needed in patches. \- **In-game performance telemetry:** possibly log average FPS or any spikes (to catch if e.g. some explosion cause hitch).

* **Debug display:** dev builds might show hitboxes, etc if toggled.

**Balance dashboards:** \- If we do data-driven approach for telemetry (like sending to analytics), we can build dashboards (using e.g. a spreadsheet or internal tool). \- On small scale, maybe just parse log files from testers.

**Continuous monitoring:** \- On consoles, have to keep frame rate stable; we profile heavy scenes, if needed degrade effect or static in config (like set a different quality flag on Switch, e.g. skip dynamic lights). \- Use memory profiler to ensure no memory leaks (especially with object pooling usage).

By addressing these technical considerations, we aim for a robust, maintainable codebase enabling the chaotic gameplay with minimal bugs and smooth performance across platforms.

## Часть IV — Art Bible

**Общий стиль:** Игра выполнена в **пиксель-арт** стиле, отдающем дань 16-битной эре, но с современным количеством эффектов. Стиль можно описать как *“ретро-эксплозивный”*: спрайты низкого разрешения (ориентировочно 32×32 px на персонажа), яркие, с контуром, хорошо читаемые на любом фоне. При этом, картинка не строго ограничена 16 цветами – палитра расширенная, но мы придерживаемся *сочетания цветов*, типичных для ретро (насыщенные, контрастные).

**Цветовая палитра:** \- Используем контраст “герои vs окружение vs враги”. Пример: фоновые элементы джунглей – более темные, приглушённые зелёно-коричневые; герои – имеют яркие акценты (красная bandana, синяя джинсовая куртка и т.д.). Враги-террористы носят чёрные маски, но у них вспышки выстрелов и красные “\!” – легко заметить. \- Палитра ограничена для единообразия: выберем \~64 базовых цветов и их оттенки. В частности, кровь – ярко-красная (\#FF0000), огонь – комбинация желтый/оранж/белый, тени – фиолетовые или тёмно-синие (ночные уровни). \- Сделаем документ-палитру: например, используем NES-подобные оттенки, но без строгого 8-bit ограничения. Цель – визуальная целостность и *читаемость*.

**Читаемость:** \- Каждый герой имеет уникальный силуэт и цветовую схему. *Силуэты персонажей:* \- Captain Carnage: типичный боец, бандана и M60, легко узнаваемы контуром (пиксели волос и бандана вверх). \- Sgt. Steel: крупнее, с миниганом, может иметь кибернетический глаз (светящийся пиксель). \- Shadow Blade: тонкий силуэт, с остро торчащим мечом, плащ, чтоб даже в черном его форма была узнаваема. \- Мы делаем **тех. ограничение:** масштаб персонажей \~1.5–2 tiles (например, 24 px высоты). Все герои относительно равны по размеру, чтобы хитбоксы схожие (кроме спецслучая Bruiser-игрок, если будет). \- **Враги:** силуэты проще (мобы часто отличаются только оружием). Даем им отличия: например, базовый мук – простой стоячий, щитовик – квадратный с щитом, ракеты – трубой на плечах. Большие враги (Bruiser) – сильно выше, внушительный спрайт.

**Анимация персонажей:** \- Каждый герой \~5–8 кадров в цикле бега (сделаем плавный бег, но можно 4 кадра на 2 шага, повтор). \- Jump – обычно 1 поза в воздухе (можно не анимировать). \- Shoot – мгновенная, мы используем эффекты: выстрел – muzzle flash 1 frame sprite. \- Много **времени** уйдёт на разнообразные death animations: мы хотим чтобы враги разлетались кусками – реализуем гибли через код (spawn blood and limb sprites). Но у героев – простой death (пиксельные куски? или они тоже). \- **Frame rate:** Keep animations at \~10 fps for retro feel (like 0.1s per frame). \- **Key frames emphasis:** \- Run cycle – четко выраженная поза "контрудар" на контакт ногой с землей, руки с оружием либо фикс, либо slight bobbing. \- Melee swing – anticipate (заруба назад 1 кадр), swing (вытянут вперед 1 кадр) с motion blur line maybe, recover. \- **VFX integrated frames:** Explosion drawn frame-by-frame pixel art: \~5 frames expanding fireball for small explosion, maybe 8 for big. \- Screen shake not drawn but camera, though maybe simulate in pixel steps (1–2 px jitter).

**Эффекты:** \- *Взрывы:* Больше размер, больше кадров: \- Малый (grenade) – \~4 frames: start bright core \+ outward ring, expand, dissipate (last frame just smoke). \- Большой (fuel tank) – \~6 frames: more debris drawn, possibly gradient of color from white-\>orange-\>grey). \- We ensure explosion sprites have transparent background and can overlap nicely with additive blending for bright effect (though pixel art often no blending, could mimic by saturating center). \- *Пули/траектории:* \- Bullet itself often invisible (speed), but we might draw small white streak or tracer for big bullets. Use blending for lasers/tracers. \- Impact spark: pixel spark sprite (few bright pixels). \- *Кровь:* pixel blood spurts: parted red pixels and maybe small droplets. We can do a particle system that spawns 10–20 red pixels with physics. \- Also blood splats on surfaces: when someone gibbed, spawn a sprite of blood smear on floor/wall (tile decal). Pre-draw some shapes, or generate with algorithm. \- *Пыль/дым:* \- After explosion, lingering smoke cloud: grey puffs pixel art, fade out (or animate dissipating). \- Falling debris cause dust puff at ground: small brown/grey pixels upward, then fall. \- *Обвалы:* if a structure falling, we can draw cracks on blocks before fall (tile variant with crack). \- Then when falls, dust trail behind, and big dust when it lands. \- *Screen shake:* We'll apply moderate to strong for big blasts (shake camera by \~5 px for 0.2s). \- *Flash:* quick white overlay on explosion frame 1 for brightness.

**Размеры спрайтов и тайлов:** \- **Tile**: 16×16 px typical (maybe 8 px if we wanted more detail? But likely 16). \- If tile is 16 px, and char \~2 tiles tall \=\> char \~32 px tall. This aligns with the Rambro images name (RambroGuy.png \~20 KB might hint resolution? Not sure). However, a 32 px tall char yields crisp silhouette. \- We'll define: \- Terrain blocks: 16×16. Many repeated patterns (soil, brick). \- Larger tiles: e.g. big temple block 2×2 \=\> can either draw as 32×32 tile or tile composed of 4 smaller ones looks contiguous via art. \- **Sprites sheet for characters:** \- Each hero about 32 px tall, width maybe 16–24 px (depending arms). \- They have multiple animations: we prefer horizontal strip or grid with frames. \- We'll ensure pivot points consistent (for alignment). \- **Hitboxes:** likely align with sprite boundaries mostly, though probably simpler shape: e.g. char capsule covering 16×28 px. \- **Background layering:** \- Multi-layer parallax? Possibly one background image scrolling slower (like mountains, clouds). Pixel art environment can have 2–3 layers. \- Foreground doodads (like trees partly covering view?), must be careful not to hide player. Usually not, unless intentionally (some hide and seek sections).

**Key animations references:** \- For run cycles, we can reference Contra / MetalSlug frames. They often used \~6 frames for fluid movement. \- For recoil animations (shooting heavy gun pushes char back 1 px in one frame, then returns). \- *Idle animations:* not needed but we can add a little – e.g. hero chest breathing (2 px up/down). \- *Taunt animations:* if we include flexing, need an anim frame (hero raising arm in victory pose). \- *Enemy idle:* e.g. mook smoking or shifting weight.

**Персонаж силуэты и позы:** \- We'll ensure each hero has a distinct stance: \- Commando stands legs apart sturdy stance with M60 at hip. \- Ninja stands sideways holding katana overhead slightly (Ninja Gaiden vibe). \- Cyborg heavy stands head slightly down, minigun at hip, wide shoulders. \- Dual-character (Blaze & Beauty) – tricky to depict two small chars in one sprite; we might cheat and draw as one combined larger sprite (like one behind the other). \- It's key that even with limited res, players can glance and know "oh I'm this bro now".

**VFX and readability:** \- Explosions and muzzle flashes obviously can obscure view, but their frames are short. Possibly we do what MetalSlug did: short bright flash, then transparent smoke, so after initial flash, you can see through smoke partially (we use low alpha dithering). \- *Friendly vs enemy bullets:* Possibly give them different color (players bullets orange, enemy bullets red). \- *Invincibility frames (if any):* might blink sprite to show (like if hero respawn, short invul).

**Screen-shake guidelines:** \- Minor explosion (grenade) – 2px shake for 0.1s. \- Major (airstrike) – 8px shake 0.3s. \- Do not stack shakes – if multiple simultaneous blasts, clamp to one strong. \- Provide reduce shake option as said.

**Pixel resolution and scaling:** \- We ensure Pixel Perfect: e.g. if game at 1080p, and base art is 240p, scale exactly 4.5? That not integer, might cause shimmer. We might set design resolution e.g. 426×240 (16:9), scaled up 4x \= 1704×960, leaving small border on 1080p. But Pixel Perfect component can handle scaling \+ black bars to nearest integer scale. \- Or allow slight stretch if minor (some advanced pixel scaling). \- We'll do tests to ensure no sub-pixel on sprites (except maybe camera movement can cause since not locked to pixels? Pixel Perfect cam can lock it to pix increments, which we likely use).

**Assets pipeline:** \- Tools: Aseprite (common for pixel art), Photoshop with grid for concept, etc. \- We maintain sprite atlases by category (hero atlas, enemy atlas, environment tile atlas per biome, effects atlas). \- For memory, atlas as big as needed but ideally not too large (\<2048 px dimension for old devices). \- Most importantly, consistent scale across all assets (so one tile truly 16 px in those files). \- We'll define pivot points in import so collisions align (for tile at bottom center maybe, for char at feet).

**Art production guidelines:** \- Each character get concept art in high-res to unify idea, then pixelize it down carefully, adjusting details (like emphasize iconic detail: Rambro's hair and bandana). \- Limit shading to maybe 2 shades per color region (like skin base \+ shade) to maintain crisp. \- Use outlines selectively: maybe black outline around entire sprite or just on shadow side, not on light side, to integrate background. Many pixel games use black outlines for readability (Broforce did outlines? Their sprites had black outline style, I think yes). \- We'll likely do subtle outline so on any background char pops. Could drop outline for inner details to not look cartoon heavy.

**Example sizes:** \- Hero: 32×24 px (approx stance). \- Bruiser enemy: 48 px tall. \- Minor enemy: 30 px tall. \- Large boss (e.g. helicopter): maybe 128 px length rotor, scaled as needed.

**Consistency & QA in art:** \- Art bible will include sample color combos for each environment, reference sprites as style guides. \- All artists follow same pixel techniques (no excessive anti-aliasing since we want crisp, etc). \- We'll do test screens combining all to check visually cohesive.

Thus our art style achieves nostalgic authenticity while supporting the chaotic gameplay. The pixel art will ensure performance and clarity, and stylized effects will enhance the over-the-top action feel consistent with *Broforce*'s spirit.

## Часть V — Audio Brief

**Саунд-профиль игры:** Звуки *Freedom Squad* должны быть громкими, сочными и немного комичными. Мы ориентируемся на *80-90s action movie* звук, но в стилизованном ключе. \- **Взрывы:** громоподобные, с явным басом. Каждая бочка при взрыве должна дать короткий *“КА-БУМ\!”* со шрапнельными свистами. Добавим слои: основной взрыв, звук разлетающихся кусков (whizz), эхо (в помещениях). \- **Разрушаемость:** звук ломаемых блоков отличается по материалу: \- Камень рушится – *“крошење/осыпь”* (rock crumble). \- Дерево – треск (wood crack). \- Сталь – реже ломается, может быть резкий металлический скрежет. \- Земля – глухой бух, пыль (можно звуков пыли от дыхания?), скорее деликатно. \- **Оружие:** \- Пистолет: резкий *“поп”*/выстрел, чуть эхо, не громкий. \- Автомат: очереди *“таттаттат”*, можем чуть оцифровать ретро (но лучше реалистично-сочно, но короче). \- Шотган: *“ба-DOOM”* с басом, \+ перезарядка *“chk-chk”* отчетливо. \- Минган: *“brrrrr”*, действительно, а также вращение *“whirr”* перед. \- Ракета: запуск *“whoosh”*, затем взрыв отдельно. \- Огнемёт: *“woosh/hiss”* постоянный. \- Меч/нож: *“swish”* воздух, удар *“schlk”* (если кроваво). \- Граната: *тинь* чека, *thud-thud* прыжки при отскоке. \- **Комбо-сигналы:** \- Убийство нескольких врагов быстро – можно тонкий аудио cue, напр. гитарный рифф или толпа кричит "YEAH\!" (в *Broforce*, после уровня, играли американский гимн). \- Возможно, за 10 убитых подряд – короткое *“BRO FORCE\!”* чейнтом (подумать, но может раздражать). \- Could do like Unreal's “monster kill” voice, but comedic voice, e.g., an over-the-top commentator: "10 KILLS\!" \- might disrupt seriousness, but our tone allows it. Use sparingly. \- **Feedback cues:** \- Player hit (if had multi-HP): grunt *“ugh\!”*. If one-hit death, skip grunt perhaps (just explosion covers). \- Enemy death: variety of *“AARGH\!”*, *“OOF\!”*. Terrorists yell death screams (maybe pitched differently for variety). \- Important to have iconic *Wilhelm scream* as easter egg rarely.

**Музыкальное оформление:** \- **Основной жанр:** Mix of *heavy metal / rock* with *orchestral hits*, reminiscent of action movie scores and a bit of ironic heroic motifs. Think *80s action montage music* but amped up. \- **Темп/метр:** High BPM for gameplay (around 140-160 BPM during intense action), with driving percussion and shredding guitar solos for chaos. \- For calmer sections or stealth, track could drop to slower, more suspenseful (100 BPM with just bassline and occasional synth stabs). \- We will have dynamic layering to intensify in battles: e.g., baseline beat always on, but lead guitar comes in only when enemies on screen. \- **Themes:** Possibly a recognizable main motif (like a heroic tune akin to Rambo theme but bro-ified). Could incorporate a patriotic or military melody ironically. \- Eg. Freedomsquad main motif could riff on *Star-Spangled Banner* notes, as Broforce had American anthem upon finishing level (we might do similar comedic patriotic cues on victory). \- **Transitions:** \- Music should be context-aware: in quiet exploration or pre-fight, a simpler loop. When alarm triggers or boss appears, seamlessly crossfade or add layer with faster rhythm. \- Eg. track with layers: base layer (drums & rhythm) always playing quietly; once fight triggers, lead guitars and brass hits fade in on top, raising volume. \- At level end (helicopter evac), music should hit a triumphant peak (maybe quoting known heroic music tropes), then cut to victory jingle. \- **Ambient vs intense:** \- Jungle: maybe incorporate tribal drums or jungle sounds in quiet moments, escalate to metal with some jungle flute or such in melody (like Predator vibes). \- City: synthwave undertone for neon nights feel, but heavy guitars for fights. \- Alien hive: more eerie, maybe minor key electronic, then heavy industrial beats in combat. \- Hell: if present, maybe throw in organ or choir for dramatic metal. \- **Interactive layers:** \- Plan 2-3 layers in each track: \- Calm layer: low percussion, maybe a drone or slow riff. \- Action layer: full drums, rhythm guitar. \- High action layer: add lead guitar or fast synth arpeggio. \- Use Unity's audio mixer snapshots or FMOD to control layering based on game state (\#enemies or alert). \- Possibly separate stinger for bosses: e.g., when boss arrives, unique track or an overlay motif to signify boss (like heavy drums \+ a unique theme).

**Звуковой микс (prioritization):** \- *Priority list:* \- Player critical cues (their gunshots, their character death scream) must be audible to them above other things. \- Explosions are loud but if too many chain, maybe compress them collectively to not blow out speakers. \- Music vs SFX: Generally, SFX gets priority when intense (we can duck music slightly during heavy firefight so gunshots and explosions are clear). \- Voice lines (like announcer or any narrative) should duck music significantly. \- *Ducking:* \- Use sidechain: all explosion SFX can sidechain compress background music by \-3 dB momentarily. \- When announcer voice or cutscene, duck game SFX & music more strongly. \- *Dynamic range:* \- Likely we keep dynamic range moderate (players may play in noisy environment). But to have impact, explosions should have a noticeable peak. We might apply a limiter at final mix to avoid clipping but allow a little dynamic contrast. \- *Simultaneous sounds limit:* \- Many gunshots at once? Possibly restrict same sound overlapping \> X times. E.g., if 10 mooks shooting, mix 2-3 distant ones into one combined sound to avoid cacophony. Or randomize pitch per shot to smear them. \- Unity audio can handle dozens, but for clarity, consider grouping far-off gunfire as ambient chatter. \- We'll categorize: close sounds always play, far similar ones get attenuated heavy or combined. \- *Channel usage:* \- Stereo positioning: Use stereo panning for local co-op if all on one screen? Actually for one screen, left-right stereo per source anyway (if explosion left, sound left). \- If any online with multiple systems, each hears relative to their view (which is same on a single screen game actually). \- Possibly exploit stereo for bullets whizz: bullet misses to right, quick pan to right speaker.

**Additional Sound notes:** \- *Announcer voice:* Considering *Broforce* style, they had an announcer (Joonas Turner) that said names and mission "GO\! GO\! GO\!". We definitely want an enthusiastic macho voice for: \- Mission start: "Go\!\!" \- Mission success: "Area Liberated\!" with some American anthem snippet. \- New hero unlocked: voice says name (maybe not needed, but could be fun cameo). This voice should be loud and comedic. Only in key moments, so not too repetitive. \- *Character voices:* \- Perhaps minimal dialogues (some one-liners like Duke Nukem style, but careful: possible IP if quoting lines). \- We can create parody lines: e.g. a Stallone-soundalike mumbling for Rambro, an Arnold-style "Get to da choppah\!" for Brommando (though that one is iconic line, is it safe legally? As parody probably fine). \- Possibly have each hero with 1-2 unique exclamations (trigger on spawn or kill spree). Low volume in mix. \- *Enemy chatter:* \- Could have generic mook lines "Fire\!", "There they are\!" in muffled radio for ambience. Not crucial, but a bit adds life. \- Aliens and monsters would hiss or roar. \- *Combining comedic cues:* \- Possibly if friendly fire kill, some comedic sound (sad trombone or "oops"). But might break immersion too much. Maybe a subtle comedic grunt from the victim. \- *UX sounds:* \- Menu navigations mimic old arcade UI bleeps. \- Confirm selection heavy click. \- Pause/unpause: a radio static sound or tape stop effect. \- Getting new life/rescue POW: a triumphant short sound (in Broforce, freeing POW had a specific jingle).

**Mixing specifics:** \- The final mix on PC/console must avoid clipping; we'll set master vol around \-3 dB headroom, use a limiter on master bus to catch extreme multi-explosion peaks. \- Provide volume sliders separate for Music, SFX, Voice (player can adjust to taste). \- Possibly a "night mode" compress dynamic range heavily if wanted.

**Audio tech pipeline:** \- Use an audio middleware (FMOD or Wwise) or Unity's built-in with mixer. We can likely manage with Unity's AudioMixer for grouping and ducking. \- Tag sounds by mixer groups: e.g., SFX, Music, Voice. Sidechain relationships set in mixer. \- Platform differences: maybe compress audio to OGG for PC, keep at \~44.1kHz 16bit, which is fine. Memory load minimal (\<50 MB). \- Possibly consider using chip-tune elements to accent retro (like a fake 8-bit instrument cameo in music).

**Examples references:** \- *Broforce OST by Deon van Heerden* had tracks like "Pain Bringer" with metal vibe. We'll use that as quality bar (we might even license some if possible as homage? But probably new original). \- *Metal Slug* series sound for explosives and heavy machine gun – known crisp style. We'll emulate such clarity. \- Cinematic references: *Commando (1985) score*, *Top Gun anthem vibe (electric guitar for heroism)*.

In summary, the audio design ensures the game **sounds** as over-the-top as it looks: loud action, rock music, and occasional comedic touches, all while maintaining clarity through careful mixing.

## Часть VI — Level Design Bible

В этом разделе собраны конкретные приемы проектирования уровней, модули и шаблоны для создания захватывающих ситуаций.

**Набор модулей (блоков уровней):** Мы разработали библиотеку повторно используемых сегментов, которые можно комбинировать для построения уровней. Каждый модуль имеет определенный геймплейный паттерн. Ниже перечислены ключевые модули:

* **Модуль A: "Засада на мосту"** – Горизонтальный сегмент \~20 тайлов длиной: подвесной мост над пропастью. На дальнем конце – группа врагов, под мостом – взрывчатка. Особенности: игроки могут идти напролом, рискуя, или подорвать опоры. Payoff: если взорвать – мост рушится (враги падают). Риск: если находились на мосту – падение. Применяется для создания драматической ситуации (см. рецепт в GDD 8).

* **Модуль B: "Башня с турелью"** – Вертикальный сегмент: строение (\~15 тайлов высотой) с лестницами внутри, наверху – автоматическая турель. Внутри – 2-3 врага. Игроки могут зачищать этаж за этажом или подорвать башню целиком (внизу бочки). Payoff: башня рушится, убивая турель, но может завалить проход (альтернативные пути продуманы).

* **Модуль C: "Деревня врагов"** – Несколько хижин (деревянные домики на сваях). Врагы внутри хижин и снаружи патрулируют. Материал – дерево (легко горит). Если поджечь одну хижину (огнемет или взрыв), огонь может перекинуться. Payoff: огнем уничтожить всех, но и заложники внутри могут пострадать. Задача – аккуратность. Размер \~30×15 тайлов.

* **Модуль D: "Зал пленников"** – Закрытое помещение, 3-5 клеток ширины, в центре привязаны пленники (NPC). По углам – враги, вокруг – мины/бочки (ловушка). Требуется тихо убрать врагов (снайпером или по одному), не задев взрывчатку. Payoff: спасение всех пленников. Если нет – взрыв и провал optional цели.

* **Модуль E: "Коридор со спавнерами"** – Длинный туннель, по бокам 2 врата-спавнера (бесконечно выпускают солдат, пока не разрушишь двери). Старт волны при входе игрока. Задача: быстро пробиться и взорвать врата. Рецепт: создаёт прессинг, нельзя медлить.

* **Модуль F: "Лифт и орда"** – Вертикальный лифтовый подъем (платформа с игроками едет вверх \~10 сек). Во время подъема сверху и сбоку запрыгивают враги, или стреляют вниз. Конец – лифт приезжает, включается следующая секция. Это гарантированная стычка в ограниченном пространстве (классика beat 'em up).

* **Модуль G: "Обрушивающаяся пещера"** – Короткая секция, где после взрыва начинает трясти (sfx \+ screen shake), и сверху падают каменные блоки (Falling Hazards). Игроки должны быстро бежать вперед, уклоняясь. Это паттерн *навык уклонения*.

* **Модуль H: "Арена"** – Открытое пространство, обрамленное непробиваемыми стенами, где игрок заперт на время боя. Используется для финалов глав/мини-боссов. Внутри могут быть объекты (бочки, укрытия). Спавн врагов волнами. После победы – двери взрываются для выхода.

**Паттерны (повторяющиеся ситуации):** Дизайн уровней будет основан на композиции паттернов *setup → payoff → риск*. В таблице перечислим некоторые рецепты:

| Setup (ситуация) | Payoff (развязка/награда) | Риск (возможная неудача) |
| :---- | :---- | :---- |
| Игроки видят **скопление врагов** на платформе над ними, поддерживаемой **тонкими опорами**. На платформе также бочки. | Подорвав опоры (выстрелив по бочкам), платформа падает, раздавив всех врагов мгновенно. Игроки решают проблему "одним махом". | Если игроки просто полезут лоб в лоб, враги сверху закидают гранатами. Если взорвать слишком рано, находясь рядом – платформа упадёт на игроков (смерть). |
| Перед дверью бункера установлен **пулемёт** врагов, простреливающий коридор, нет прямого укрытия. | Игрок замечает **альтернативный вентиляционный ход** сверху. Пробираясь через него, заходит за пулемёт и уничтожает расчет с тыла. | Попытка бежать напролом по коридору \= мгновенная смерть от пулемёта. Если игрок не заметил вентиляцию – уровень может казаться непроходимым. Поэтому вентиляцию визуально подчёркиваем (решетка с светом). |
| Большой **щитоносец** прикрывает узкий проход, за ним стрелки. Прямо не попасть. | Игроки применяют *согласованные действия*: один отвлекает спереди, второй перепрыгивает сверху или кидает гранату за спину щитовика, выбивая щит. Затем быстро добивают врагов. | Если пытаться бить щитовика спереди – пули бесполезны, он медленно, но верно продвигается и оттесняет, может загнать под огонь. Риск – потеря жизней, время. Правильное решение исключает потери. |
| **Спуск в шахту**: Игроки прыгают вниз по платформам, видят внизу толпу врагов. Есть цепочки над ними. | Игроки могут устроить **“Batman”-атаку**: повиснуть на цепях и бросить динамит вниз, или упасть с разбега, раздавив одного (если механика stomping). Эффект – часть врагов устраняется ещё до прямой драки. Остальных легче добить. | Если спрыгнуть прямо в середину толпы без подготовки – враги окружат и мгновенно убьют. Риск особенно в ко-опе: все вместе прыгнули – тесно, граната союзника может зацепить своих. |
| **Погоня на грузовике** (условный модуль): Герои на платформе, которая движется (например, грузовик), враги преследуют на джипах или мотоциклах, появляясь слева/справа. | Успешный payoff – герои отстреливают все преследующие машины, при этом добираются до точки X, где грузовик таранит ворота, и уровень завершён. Это зрелищная победа. | Риск – если не успели уничтожить преследователей, они запрыгивают на платформу и наносят урон/убивают. Впрочем, по дизайну, уровень не кончится, пока не убьют – просто усложнится. “Неудача” \= потеря жизней перед финалом. |

Эти рецепты помогают проектировать уровни, насыщая их *интересными моментами*: игроки будут обсуждать: “Помнишь, как мы сбросили ту платформу на врагов?” – это цель.

**Темп триггеров:** Как упомянуто, уровни разбиваются на последовательности **set-up → столкновение → краткая передышка → новый set-up**. Мы следим, чтобы: \- Не было более 15–20 секунд монотонного бега без событий – вставляем врагов или маленькую ловушку, или хотя бы визуальный тревожный знак (например, тени пробежали – предчувствие). \- После каждого интенсивного боя (длившегося \~30 сек и более) давать 5–10 сек безопасного движения – чтобы игрок осмотрел разрушения, собрался. Это и технически (музыка может смениться на чуть менее интенсивную). \- Секреты/пасхалки часто размещаем в таких тихих промежутках: например, после большого взрыва, если игрок отойдёт назад, найдет скрытый туннель.

**Секреты:** \- Каждая миссия минимум 1 секретная область: за разрушаемой стеной или под платформой. В секретах – бонус (доп. пленник \= \+life, или оружие временно, или просто comedic easter egg). \- Часто секретный путь \= безопасный/альтернативный способ пройти сложную секцию. Но мы не делаем обязательные секреты – только облегчающие/награждающие. \- Часть секретов – отсылки: напр., в подвале найдем скелет чужого с надписью "Game over, man\!" – просто для фана.

**Чек-пойнты:** \- Implementation: mid-level spawnpoints. Possibly disguised as cages with new bros (rescuing a unique POW triggers checkpoint, now spawn from here). \- Frequency: if level \> 3 min, 1 checkpoint in middle. If \<3 min, none. \- They can be telegraphed (flag pole). \- On death, restart there with some baseline ammo/hero. \- For design: We place them after an extremely hard segment, so players don't need to repeat it again and again (reduces frustration). \- Co-op: all alive players teleport to checkpoint if one triggers it (in-case someone behind).

**Таймеры и события:** \- *Scripted events:* e.g., a timer for self-destruct – level must be completed in X sec or explosion triggers (like in final base). This intensifies level naturally. We must clearly show timer on UI and perhaps have a margin so average players succeed if hurry. \- *Dynamic difficulty:* Possibly not, except maybe if all players low on lives, spawn an extra life somewhere to help (like hidden POW). But we might not incorporate dynamic diff; rather rely on difficulty modes.

**Рецепты "anti-cheese":** from Lvl Design perspective: \- If players try to camp at start and shoot enemies who haven't triggered yet: might place obstacles forcing them to move forward to activate spawn triggers (like spawn triggers only when cross invisible line). \- If there's a high ledge safe spot vs boss, boss has attack covering that spot. \- Out-of-order sequence break: ensure key triggers locked behind some barrier etc.

**Плейтест-фидбэк integration:** We'll do iterative design: \- Greybox level layout first (just solids and empties, no art). \- Insert enemies and triggers, test if flow is fun, difficulty balanced. \- Then polish art and add secret areas. \- Use cheat tools to try unintended shortcuts.

**Примеры интересных ситуаций (таблица)** – (we partially covered above). We'll maintain an internal "Recipe Book" table in design docs (like above) listing at least 10 scenarios and where they appear. So designers can ensure variety: not repeating same trick too often across campaign (except staples like barrels exploding are in many, but major set piece unique per level ideally).

**Checkpoints & events synergy:** if multiple triggers are near, ensure they don't conflict (like if boss triggers at same time checkpoint triggers, maybe delay one). We'll test event timing carefully (like ensure waves spawn not overlapping in crazy way unless intentional).

In conclusion, the Level Design Bible ensures that each level in *Freedom Squad* is crafted with purpose: delivering a sequence of exciting *setups* and *payoffs*, teaching players new tactics via design rather than tutorials, and surprising them with creative *chaotic moments*. The usage of modular components aids efficiency and consistency, while still allowing unique twists per level.

## Часть VII — Production и риски

**MVP (минимально жизнеспособный продукт):** Для выпуска в early access или внутреннего тестирования определён минимальный необходимый скоуп: \- **Базовые механики:** управление персонажем, стрельба, разрушение окружения, ко-оп (локальный минимум) – полностью реализованы и отполированы. Без этого нет игры. \- **Контент MVP:** \- 2 игровых героя (пример: Captain Carnage и Sgt. Steel) – чтобы была вариативность, \- 1 глава (\~3 уровня: Jungle theme) включая 1 босса. Этого хватит, чтобы продемонстрировать core loop. \- Несколько типов врагов: стрелок, камикадзе, щитовик, турель, мини-босс (Bruiser) – чтобы геймплей не был скучным. \- **UX:** базовое меню, возможность стартовать уровень, перезапуск, интерфейс жизней/патронов. \- **Audio:** placeholder звуки (можно неполные, но хотя бы выстрелы/взрывы) и 1 музыка трек на уровень. \- **Стабильность:** MVP должен работать без крэшей, с \~60 FPS на средних PC. Сетевая часть MVP – локально 2p (онлайн может быть реализовано к релизу EA, но если сложно – MVP может выйти локал-only с обещанием online soon, но лучше иметь online). \- **Безопасность IP:** Уже на MVP этапе заменить все прямые ссылки на Broforce IP (имена). Т.е. герои уже должны быть переименованы/перерисованы, чтобы не было нарушений.

MVP позволяет показать игру игрокам (альфа тестерам) и собрать ранний фидбек.

**Release 1.0 (Full release) скоуп:** \- Все главы (4-5) с \~15-20 уровнями. \- Все запланированные \~15 героев. \- Полный набор врагов и боссов (соответственно, внедрение всех механик: чужие, демоны, etc, если есть). \- Online co-op до 4 игроков стабильно. \- Режимы: кампания \+ возможно аркадный режим / level select. \- Level Editor, если обещан (может быть пост-ланч, но лучше включить). \- Полный аудио-арт-польский. \- Платформы: PC, и подготовка к консольным (портинг может быть сразу или небольшим лагом).

**Post-launch:** \- Ожидаем поддерживать: \- Исправление багов/баланс по телеметрии. \- **Broforce Forever** пример: добавить контент через год (новые уровни, герои). Мы тоже можем планировать **free content update** спустя несколько месяцев, чтобы оживить интерес (as marketing). \- В зависимости от успеха – DLC или expansions (Could ideas: new setting like Mars, cameo characters). \- Community events: highlight user-created levels (if editor).

**Оценка команды и сроков (Rough order of magnitude):** \- Команда: \- 1 Game Designer (вы – ведущий геймдиз, также продюсер). \- 2 Programmers (core gameplay \+ network). \- 2 Artists (pixel art, one focusing characters/VFX, another on environments/tiles). \- 1 Sound Designer/Composer (could be one person does both, or two part-time: one for SFX, one for music). \- QA testers (internal maybe 1, plus we utilize closed beta for wider testing). \- Additionally, possibly 1 Technical Artist to help with editor tools or lighting (maybe one of programmers covers). \- **Development timeline (assuming from now)**: \- Pre-production (concept, prototypes): \~4-6 weeks (done now presumably). \- Vertical Slice (1 level polished) by \~3rd month. \- Alpha (all features complete, content halfway): \~6th month. \- Beta (content complete, polishing): \~8-9th month. \- Gold (ready to release PC): \~10-12 months from start. (So roughly 1 year dev with small team). \- Console porting/polish maybe add \+1-2 months (but parallel if separate porting team or using cross-platform from get-go). \- **Team capacity:** small team means iterative approach, we rely on reusing code from frameworks (Unity built-in physics etc). Possibly get some support for online (like using proven libraries to reduce risk).

* **Critical path:** последовательность задач, которая определяет минимальную длительность проекта:

* *Разработка core разрушения и сетевой код* (высокий риск, требует раннего решения) – Programmers must nail this early (proto by month 2).

* Creating content is more parallelizable (artists can work on levels as soon as engine stable).

* *Online co-op* integration might be on critical path if deferred: we likely run in parallel after core mechanics stable, but we must allocate time for debugging sync issues (set aside 1-2 months for netcode tweaking).

* *Level creation & testing:* on CP because levels come after assets done. We mitigate by building levels gradually and testing along dev.

* *Console certification* (if releasing simultaneously on consoles) – need buffer to handle platform cert, which can take 1-2 months (makes release date reliant). On CP if simultaneous release required.

**Риски (тех, контент, сетевые) и планы смягчения:**

* **Технический риск:**

* *Сетевая синхронизация разрушений* – высокий. Смягчение: провести технический спринт именно на сетевом режиме с destructible environment early (proto with 2 PCs).

* *Performance on destruction* – risk on lower hardware if many physics. Mitigation: implement pooling, limit simultaneous explosives; test on low spec PC early, optimize tile removal algorithm.

* *Bugs with physics oddities:* e.g., player stuck in collapsing tile. Mitigation: heavy QA, also put failsafes (if player inside tile after explosion, push them out).

* Tools risk: building user-friendly level editor in time. If behind, plan B: release editor later in patch (with communication to players).

* **Контент риски:**

* *Scope creep:* Many heroes and unique abilities – risk of not balancing or finishing on time. Plan: prioritize a core subset for release, others can come as free updates (players often accept "free update with new characters").

* *Art production backlog:* Pixel art can be time-consuming for all animations. To mitigate: reuse animations where possible (many bros share base body anim, just different overlay for arms or head).

* *Audio volume:* Possibly over 50 tracks of SFX to produce, risk in quality if rushed. Mitigation: get sound contractor or use libraries for common sounds (with customization to fit style).

* *Level design difficulty:* risk that we misjudge difficulty, leading to frustration or too easy. Mitigation: iterative playtesting with external players (closed beta testers) to calibrate.

* **Сетевые риски:**

* *Connectivity issues:* If reliant on Steam, out of our control? We should incorporate fallback (LAN mode or direct IP if Steam fails). Mitigation: thoroughly test online in various conditions (including one with high ping, etc).

* *Desync bugs that are hard to fix:* contigency: If minor (like one tile visually out-of-sync but not game-breaking), maybe ignore. If major and unsolved, worst-case scenario: disable online destruction (but then game concept ruined, so not acceptable). Actually plan B for net: if deterministic sync fails, maybe run lockstep for destruction events (everyone uses same random seed and physics steps synchronized – complex, but just an idea).

* We can mark online as "beta" if absolutely necessary at launch, but aim to deliver stable.

* **Legal/IP risk:**

* Using parodies can still attract attention (e.g., if one character too close to Rambo, rights holders might object). Mitigation: ensure designs sufficiently generic or distinctly satirical (parody is legal defense, but we still adjust to avoid one-to-one copying).

* Music rights if any references (like short anthem bit) – ensure it's either public domain or licensed snippet.

* Title and branding: ensure not too close (we wouldn't use "Broforce" or "Force bros" – we chose "Freedom Squad" which seems safe). Check trademarks.

**Plan B / смягчение:** \- If some features not ready: e.g., drop-in/out dynamic join – if too unstable, drop that feature (require joining from lobby only). \- If difficulty balancing problematic: may postpone some content (like last chapter more time). \- In worst-case schedule slip: consider Early Access release with first 2 chapters to gather player feedback while finishing rest (if community understanding). \- Another Plan B: If network totally fails, pivot to mainly local co-op focus on release and patch online later (not ideal for PR, but some indie games did it). We'll try to avoid though – online is a key selling point for replayability.

**Бюджет (время, инструменты, лицензии):** \- Man-months: \- 12 months \* \~5 FTE average \= 60 man-months development effort. \- At indie cost, maybe $2k per man-month (if small indie environment, or higher depending region) – so roughly $120k cost base (just a guess). \- Additional: sound outsourcing maybe $5-10k if using contractor composer. \- Tools: Unity license (if revenue \<100k, free or plus $ maybe per seat $1500/year for Pro, but we might use free initially). \- Pixel art tools (Aseprite is cheap one-time $20 per seat). \- Test devices: maybe need a budget to get dev kits for consoles ($ dev kits vary, but assume $2500 each \*3 main consoles \~ $7.5k). \- Marketing not included but relevant (need some budget for trailers, events).

Given we assume "PC indie-level", the costs might be kept low with small team, many doing multiple roles (like you doing design \+ some writing \+ production).

**План тестирования (Playtest) и KPI:**

* **Плейтест-план:**

* Internal test: team plays daily builds (especially new levels to catch issues).

* Weekly structured playtest: one team member acts as observer while others (or external QA) play through, note difficulty spikes, confusion points.

* Closed alpha: invite small group (friends or sign-ups) to play say first 3 levels, get survey feedback. Focus on controls feel, fun factor, clarity.

* Beta (maybe open/EA): gather more data (via telemetry and forums).

* **Key Performance Indicators (KPI) после релиза:**

* *Retention:* Day-1 and Day-7 retention. For a paid indie game, retention isn't like F2P, but we want players to come back to finish campaign, and maybe beyond:

  * If Day-1 (i.e., start second session next day) is low, perhaps game didn't hook or was too hard.

  * Ideally \>50% should continue day2 (meaning at least finish chap1 and want chap2).

* *Completion rate:* what % of players finish the campaign. If very low (\<20%), either game too hard or too long. Ideally \~40-50% finishing on Normal (for an action game might be lower, but aim not to drop too low).

* *Average session length:* If sessions short (like 10 min), maybe too frustrating/die quickly. We expect sessions \~30-60 min, as chaotic co-op fun typically.

* *Co-op usage frequency:*

  * % of players who play in co-op (online or local) at least once. If low, maybe feature was too hidden or not working well. We want a decent chunk, because co-op is a main selling point.

  * Also average co-op session length vs solo – presumably co-op longer (because fun with friends).

  * If co-op usage \< 20%, perhaps need to improve matchmaking or emphasize it in UI.

* *Bug incidence:* telemetry can track crashes or major errors. Low crash rate is KPI.

* *Difficulty metrics:* median deaths per level, etc, as explained, to identify if certain levels cause drop-off or frustration. Use these metrics to patch (like adjusting that level difficulty).

* *Community levels engagement:* If editor, how many levels created, downloaded, etc.

* **Iteration after launch:**

* If retention lower than expected, possibly game too tough – consider adding easier difficulty or adjusting early levels.

* If co-op not used, maybe implement better in-game friend invites or incentives to co-op (like exclusive co-op challenges).

* If players finish quick and drop – maybe expedite releasing new content (like free update "New Missions").

Given these measure, we track and ensure game health: e.g., aim for high Steam user reviews (which indirectly reflect good balance and few bugs, but not exactly KPI).

**Team processes:** \- We adopt agile-ish approach: 2-week sprints with goals (like "Implement netcode basic" or "Finish level 4-6 design"). \- Regular builds to testing (to catch regressions soon).

The production plan is thus structured and risk-aware, ready to adapt if any high risk (especially netcode or content overscope) threatens release quality or schedule.

## Часть VIII — Legal/IP и дифференциация

**Запретное к копированию (что нельзя):** Мы внимательно проанализировали оригинал *Broforce* и выявили элементы, защищённые интеллектуальной собственностью или узнаваемые до степени потенциального иска: \- **Имена и внешность персонажей:** *Broforce* напрямую пародирует Rambo (Rambro), Terminator (Brominator), etc. Эти образы – пародии, но основаны на чужих IP (кинофраншизы). Наш клон **не будет использовать те же конкретные отсылки**. Никаких "Bro \_\_\_\_\_", никаких явных копий кинокостюмов. Мы создаём **оригинальных героев**: например, вместо прямо Рэмбо – собирательный “коммандос”, без имени "John Rambo". Вместо Джона Макклейна – просто полицейский с дробовиком, без белой майки с надписью. \- То есть, *никаких имён*, принадлежащих фильмам или реальным личностям. \- Если делаем пародию, то достаточно отдалённую: например, не "B.A. Broracus", а совершенно иное имя и другой дизайн, пусть даже вдохновленный "крутым командос". \- **Логотипы и бренды:** Не используем схожий логотип. *Broforce* имеет орла и звезду, американскую символику. Наш проект может использовать патриотические мотивы, но **не копируем логотип** (например, не рисуем точь-в-точь орла со знаменем). \- **Музыка:** Оригинальный саундтрек Broforce – авторский, мы не трогаем его. Также не вставляем не лицензированные треки из фильмов. Наш саундтрек полностью оригинальный. Если мы делаем пародийную мелодию (например, на гимн США), убедимся, что она либо общественное достояние (Star-Spangled Banner – *public domain*), либо изменена достаточно, чтобы быть оригинальным произведением (возможно, исполняем с искажением, что безопасно). \- **Скрипты/тексты:** Диалоги Broforce (не то чтобы там много) – не используем. Например, фраза "Brooooo" или какие-то конкретные пшш-эффекты, можем заменить. \- В Broforce была фирменная "YAWW" голосом – мы сделаем другое. \- Так же не используем названия уровней из Broforce или их "мероприятия" (Expendabros, etc) – у нас собственный сюжет/мир. \- **Дизайн уровней:** Конечно, механики взрыва и разрушения – общие идеи, их не запатентуешь. Но мы проследим, чтобы **наши уровни не повторяли 1-в-1 оригинальные**. Например, если в Broforce первый уровень – джунгли с флагом на конце, это ок, но мы можем изменить последовательность, враги, добавить новые ситуации. Концепция "спасти пленников и убить дьявола" – их фишка: \- Образ дьяволенка с американским флагом на конце – лучше избегать. Придумываем другой финал уровня (например, убить генерала и вызвать вертолет с флагом *Свободы*). \- Сатану в конце Broforce тоже не стоит тупо копировать – мы можем, но стоит ли? Лучше другой финальный злодей (скажем, "Император Террора" – оригинальный). \- **Художественный стиль и название:** "Broforce" само название защищено. Мы называем игру иначе – "Freedom Squad" (предположительно не занято, но конечно проверка нужна). \- Дизайн орла, флаг – общие концепты, но можем поменять тон: Broforce – крайне про 'Murica (американский флаг везде). Чтобы дифференцироваться, мы можем слегка сместить акцент: например, сделать отряд "международным" – использовать разные флаги? Или вымышленный флаг "Организации свободы". \- Это не только юридически безопасней, но и придает свое лицо.

**Линии дифференциации (как мы отличаемся):** \- **Новые архетипы героев:** Broforce фокусировалась почти исключительно на мужских героях action-фильмов 20 века. Мы расширяем: \- Добавляем *женщин*\-героинь из экшена (в оригинале они появились, но их называли bros, а у нас можно иначе позиционировать). \- Добавляем *международные* образы: напр. герой-британец с юмором, японский мастер меча – так, чтобы состав не ассоциировался лишь с Голливудом. \- Добавляем *фантастических* персонажей: Broforce ограничивалась фильмами; мы можем придумать условного "Капитана Космоса" (наш аналог Duke Nukem/game char) – то есть, не только фильмы, но игры, комиксы. Главное – оригинальные имена и легкий карикатурный портрет, чтобы не копия. \- Стилево наши герои могут быть более "клоунские" или сатирические по-другому: Например, персонаж – бывший президент-актер, стреляющий из правительственной печати (условно). Это не было в Broforce, а у нас новый прикол. \- **Сеттинг и тон:** \- Broforce \= 80s-90s action USA vs terrorists & aliens & hell, с флагами США. Мы можем сместить сеттинг: например, более sci-fi (добавить киборгов, пост-апок элементы). \- Тон можем чуть изменить: Broforce – очень *патриотично-сатирический* ("America, f**k yeah" vibe). Мы можем спародировать *глобальный милитаризм* или другие темы. Например, наш отряд борется за "абстрактную свободу", не явно американский (можно даже сделать их интернациональным спецотрядом – чтобы не повторять идеи Lionsgate Expendables tie-in). \- Тем не менее, часть целевой аудитории ожидает подобного юмора, поэтому полностью уходить не стоит. Просто, возможно, меньше концентрируемся на американской символике (чтобы не быть "Broforce 2" неофициально) – а больше на общем абсурде войны. Например, больше *чёрного юмора* на тему оружия, клише разных стран. \-** Новые биомы: **Broforce имела: джунгли, city, aliens hive, hell. Мы обязательно добавим, скажем, *арктическую базу* (снег, лед – не было в Broforce), *пустыню* (с пирамидой или секретным объектом). \- Добавим интерактивы: ездящий поезд (не помню, было ли – скорее нет) – у нас может быть миссия на поезде. \- Вода/подводный уровень? (Опасно геймплейно, но можно короткий). \-** Геймплей отличия: **\- Возможные новые механики: например, система *комбо* (неявно: killstreaks giving minor buffs), *слоу-мо* специальные моменты (Time Bro in original was an item basically; we incorporate time slow as char ability, which is different). \- Perhaps incorporate vehicles for players? Broforce had mech suit, but no driveable vehicles iirc. If we add like "hop into jeep with turret" moment, that's a new highlight (just ensure legal: it's generic concept, fine). \- Another differentiation: *cover mechanic?* Possibly not needed – keep run'n'gun. But we could allow prone/crawl (contrary to Broforce's simpler up/down). \- But careful: too much difference might alienate fans who just want "Broforce but new". So differences should feel like evolution, not departure. \-** Тональные отличия: *\- Comedy in Broforce was absurd patriotism. We could angle comedic elements differently: perhaps more self-referential or breaking 4th wall* humor. e.g., jokes about video games themselves or modern references (just not to specific IP). \- Possibly incorporate small story cutscenes with humorous dialogue (Broforce had some static cutscenes with General and Satan, we can have something else – maybe comedic news reports of the devastation, etc). \- Embrace parody of not just films but maybe current events (careful if controversial) – or cliches like "the level of complete destruction ironically causing more chaos".

**Checklist for safe clone:** Before release, we'll run through: \- ✅ **Original art assets only:** All sprites, code, music are new or properly licensed. (No ripping from Broforce or anywhere). \- ✅ **No trademark names:** Check all names of characters, factions, etc against major IP/trademarks. If any too close (e.g., our initial "Captain Carnage" – ensure not an existing trademark; likely fine). \- ✅ **Distinct title and branding:** "Freedom Squad" is unique, search if no conflict. Ensure logo and iconography not clearly copying Broforce's style (theirs is muscled arm and star – maybe ours is a shattered chain or fist – something different). \- ✅ **Character design review:** for each hero, confirm not an obvious copy of one iconic character. E.g., if we have a commando with bandana – is that too Rambo? Possibly many commandos wear bandana, but give him other unique traits (different outfit color, maybe facepaint). \- Particularly avoid using identical catchphrases (no "I'll be back" if we have Arnold-like char, or if we do, ensure it's clearly parody and we've changed context). \- ✅ **Parody vs infringement:** Parody is legal defense if it's commentary. But to be safe, keep references broad and not one-to-one. E.g., we can have a hero "The Governator" who is a cyborg politician referencing Arnold, but not name "Arnold" or "Terminator". \- And include enough of our own twist that it's transformative (like giving him a different origin story or ability). \- ✅ **Music clearance:** If we have any homage riff that might resemble a famous theme (like maybe a few notes of Rambo or Terminator theme snuck in), either ensure short (\<2 seconds maybe could be fair use/pastiche) or better avoid direct melody. Use original compositions. \- ✅ **Sound effects:** If any SFX were from libraries, ensure we have license (especially for commercial). \- ✅ **No existing levels replication:** double-check none of our levels inadvertently replicate Broforce's layout or specific gag. We do original sequences. Similar tropes allowed (both have jungle infiltration – that's generic). \- ✅ **Title screen/cutscene difference:** not to use same style (Broforce had pixel art map with punny level names, we can do differently, like an HQ briefing UI with our flair). \- ✅ **Beta feedback on uniqueness:** maybe engage players of Broforce in beta – if they comment "this feels just like Broforce but with new skins", ironically that might be partly desired but for legal, we want "feels inspired, but fresh". \- We might include a disclaimer: "This game is a loving homage to retro action and games like Broforce, but all characters and content are original." Possibly not needed publicly, but just mindset.

**Differentiation recap:** Essentially, we want *Freedom Squad* to stand on its own feet – clearly in the same subgenre, but not a mere reskin. So we emphasize its unique heroes, slightly different comedic tone (maybe more pan-genre parody), and unique content (scenes, setpieces not seen in Broforce).

**IP cross-check:** \- *Broforce* developers (Free Lives) might see this clone. If they do, they'd likely be fine unless it looks like we stole assets or confuse customers. So brand clearly distinct – no use of "Bro" etc to avoid confusion. \- We must ensure no copyrighted stuff: e.g., one of our hero we considered "Cherry Broling" is obvious from Expendables (which was ironically official content from Lionsgate in Broforce). We won't use Expendables references specifically – they'd be too obvious and also not original (Expendables belongs to Lionsgate). \- Also avoid real person likeness beyond parody: e.g., including a character obviously "Chuck Norris" can sometimes cause issues (though likely fine under parody, but out of caution we make it less obvious).

Finally, we compile the **Legal safety checklist** and have legal counsel or experienced dev check if any grey areas remain (like heavy use of American iconography might cause not legal but PR questions – but patriotism isn't owned by anyone, it's fine).

When done, *Freedom Squad* will be a safe, clearly distinct product: a "spiritual successor" capturing what fans love about Broforce (fast co-op action, destructible environment, 80s flair) but with original characters, story, and expanded ideas – avoiding any infringement while offering a fresh experience.

---

**Источники и методология** – *см. Приложение A* (в конце документа, мы поместим список источников).

---

[\[1\]](https://en.wikipedia.org/wiki/Broforce#:~:text=Broforce%20is%20a%202015%20side,through%20highly%20destructible%20environments) Broforce \- Wikipedia

[https://en.wikipedia.org/wiki/Broforce](https://en.wikipedia.org/wiki/Broforce)

[\[2\]](https://broforce.fandom.com/wiki/Basic_Mook#:~:text=Health%203%20HP%20Blood%20Red,The%20Expendabros%20SpawnResource%20Trigger%20mooks%2Fzmook) Basic Mook | Broforce Wiki | Fandom

[https://broforce.fandom.com/wiki/Basic\_Mook](https://broforce.fandom.com/wiki/Basic_Mook)

[\[3\]](https://broforce.fandom.com/wiki/Enemies_And_Allies#:~:text=Grenadier%20Mook) [\[4\]](https://broforce.fandom.com/wiki/Enemies_And_Allies#:~:text=A%20Grenadier%20Mook%20will%20toss,the%20melee%20attack%20near%20them) Enemies And Allies | Broforce Wiki | Fandom

[https://broforce.fandom.com/wiki/Enemies\_And\_Allies](https://broforce.fandom.com/wiki/Enemies_And_Allies)

[\[5\]](https://broforce.fandom.com/wiki/Bruiser#:~:text=Type%20Mook%20Attacks%20Minigun%2C%20range,The%20Expendabros%20SpawnResource%20Trigger%20mooks%2Fzmookbigguy) [\[6\]](https://broforce.fandom.com/wiki/Bruiser#:~:text=,destroy%20him%20instantly%2C%20provided%20that) Bruiser | Broforce Wiki | Fandom

[https://broforce.fandom.com/wiki/Bruiser](https://broforce.fandom.com/wiki/Bruiser)
